<!DOCTYPE html><html lang="en" class="anthropicsans_38ab20ab-module__m_Ag9q__variable anthropicserif_9dcb6d5c-module__l8Ld2a__variable copernicus_f8782a09-module__ahfGZW__variable styrenea_5e06b95-module__JuxQ9a__variable styreneb_4765efd3-module__CFivSW__variable tiempostext_7f420b3d-module__SmwvBG__variable jetbrainsmono_7d7bdbc6-module__j_XgJq__variable"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/fed19462e770b5e0.css" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" data-precedence="next"/><link rel="stylesheet" href="/_next/static/chunks/dcab5e8e8ad4cc11.css" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" data-precedence="next"/><link rel="stylesheet" href="/_next/static/chunks/5854b2d87f13c141.css" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" data-precedence="next"/><link rel="stylesheet" href="/_next/static/chunks/abb3e2075b301e6f.css" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" data-precedence="next"/><link rel="stylesheet" href="/_next/static/chunks/5247a9f776a63f50.css" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" data-precedence="next"/><link rel="stylesheet" href="/_next/static/chunks/3ef2df9cc3987918.css" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" href="/_next/static/chunks/c68b224ec2e5a0f0.js"/><script src="/_next/static/chunks/a94589f19b4b4fe1.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/d0300bffb79131f2.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/08dcfc3b15383cd6.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/turbopack-8815bdd0c493e34b.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/d96012bcfc98706a.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/d80b3790a119a285.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/1fb574e7be3f9a05.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/5ae0d9ad512fb263.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/c1896c986be1a2e2.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/7792a96214bec1f0.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/90869c85d8d8ba84.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/55e41b6edc326dca.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/2fd2aa01a4bc9178.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/8bdf83f8bd0ec540.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/046a135eda40f761.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/8ff14dc5284a5c6d.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/4d62cd54534b3ba6.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/1d74fcc382f9306e.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/8288730f5c5f5922.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/e95d17fb31990dec.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/2e3229a62c65aaec.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/91a159b613adeb74.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/eeb90237787e1eca.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/4014b723c1a53f30.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><script src="/_next/static/chunks/fba43d7d87521a3b.js" async="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script><meta name="next-size-adjust" content=""/><meta name="theme-color" content="#141413"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule="" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0"></script></head><body><div hidden=""><!--$?--><template id="B:0"></template><!--/$--></div><header class="SiteHeader-module-scss-module__zKj4Ca__header" data-theme="light"><div class="SiteHeader-module-scss-module__zKj4Ca__skipLinks"><a href="#main-content" class="SiteHeader-module-scss-module__zKj4Ca__skipLink">Skip to main content</a><a href="#footer" class="SiteHeader-module-scss-module__zKj4Ca__skipLink">Skip to footer</a></div><div class="page-wrapper SiteHeader-module-scss-module__zKj4Ca__root"><a href="/" aria-label="Home"><div class="SiteHeader-module-scss-module__zKj4Ca__logoDesktop"><div class="LogoWordmark-module-scss-module__Sdgt-q__logo-wrapper"><svg class="LogoWordmark-module-scss-module__Sdgt-q__logo-static" width="570" height="64" viewBox="0 0 570 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Anthropic"><path d="M139.492 12.9945H160.265V62.9392H173.525V12.9945H194.298V1.06077H139.492V12.9945Z" fill="currentColor"></path><path d="M116.066 44.3757L88.221 1.06077H73.1934V62.9392H86.011V19.6243L113.856 62.9392H128.884V1.06077H116.066V44.3757Z" fill="currentColor"></path><path d="M247.337 25.7238H218.166V1.06077H204.906V62.9392H218.166V37.6575H247.337V62.9392H260.597V1.06077H247.337V25.7238Z" fill="currentColor"></path><path d="M24.663 1.06077L0 62.9392H13.7901L18.834 49.9447H44.6365L49.6796 62.9392H63.4696L38.8066 1.06077H24.663ZM23.2946 38.453L31.7348 16.7072L40.175 38.453H23.2946Z" fill="currentColor"></path><path d="M370.475 0C352.619 0 339.978 13.2597 339.978 32.0884C339.978 50.7403 352.619 64 370.475 64C388.243 64 400.796 50.7403 400.796 32.0884C400.796 13.2597 388.243 0 370.475 0ZM370.475 51.6243C360.044 51.6243 353.68 44.1989 353.68 32.0884C353.68 19.8011 360.044 12.3757 370.475 12.3757C380.818 12.3757 387.094 19.8011 387.094 32.0884C387.094 44.1989 380.818 51.6243 370.475 51.6243Z" fill="currentColor"></path><path d="M555.845 42.1657C553.547 48.1768 548.95 51.6243 542.674 51.6243C532.243 51.6243 525.878 44.1989 525.878 32.0884C525.878 19.8011 532.243 12.3757 542.674 12.3757C548.95 12.3757 553.547 15.8232 555.845 21.8343H569.901C566.453 8.57459 556.11 0 542.674 0C524.818 0 512.177 13.2597 512.177 32.0884C512.177 50.7403 524.818 64 542.674 64C556.199 64 566.541 55.337 569.989 42.1657H555.845Z" fill="currentColor"></path><path d="M471.337 1.06077L496 62.9392H509.525L484.862 1.06077H471.337Z" fill="currentColor"></path><path d="M443.403 1.06077H413.171V62.9392H426.431V40.4862H443.403C457.459 40.4862 466.033 33.0608 466.033 20.7735C466.033 8.48619 457.459 1.06077 443.403 1.06077ZM442.784 28.5525H426.431V12.9945H442.784C449.326 12.9945 452.773 15.6464 452.773 20.7735C452.773 25.9006 449.326 28.5525 442.784 28.5525Z" fill="currentColor"></path><path d="M329.812 19.8895C329.812 8.22099 321.238 1.06077 307.182 1.06077H276.95V62.9392H290.21V38.7182H304.971L318.232 62.9392H332.906L318.223 36.8734C325.593 34.0402 329.812 28.0743 329.812 19.8895ZM290.21 12.9945H306.564C313.105 12.9945 316.552 15.3812 316.552 19.8895C316.552 24.3978 313.105 26.7845 306.564 26.7845H290.21V12.9945Z" fill="currentColor"></path></svg><div class="LogoWordmark-module-scss-module__Sdgt-q__logo-lottie"></div></div></div><svg class="Icon-module-scss-module__lqbdHG__icon SiteHeader-module-scss-module__zKj4Ca__logoMobile" width="32" height="32" viewBox="0 0 46 32"><path d="M32.73 0h-6.945L38.45 32h6.945L32.73 0ZM12.665 0 0 32h7.082l2.59-6.72h13.25l2.59 6.72h7.082L19.929 0h-7.264Zm-.702 19.337 4.334-11.246 4.334 11.246h-8.668Z" fill="#000000"></path></svg></a><div class="SiteHeader-module-scss-module__zKj4Ca__contentWrapper"><nav class="SiteHeader-module-scss-module__zKj4Ca__nav"><ul class="SiteHeader-module-scss-module__zKj4Ca__navList"><li class="body-3 SiteHeader-module-scss-module__zKj4Ca__navItem"><a href="/research" class="SiteHeader-module-scss-module__zKj4Ca__navText">Research</a></li><li class="body-3 SiteHeader-module-scss-module__zKj4Ca__navItem"><a href="/economic-futures" class="SiteHeader-module-scss-module__zKj4Ca__navText">Economic Futures</a></li><li class="body-3 SiteHeader-module-scss-module__zKj4Ca__navItem" data-category="Commitments"><button class="SiteHeader-module-scss-module__zKj4Ca__navText" aria-haspopup="menu" aria-expanded="false" aria-controls="nav-dropdown-Commitments"><span>Commitments</span><svg class="Icon-module-scss-module__lqbdHG__icon SiteHeader-module-scss-module__zKj4Ca__caretIcon" width="12" height="6.13" viewBox="0 0 8 5"><path d="M7.3016 0.231808C7.44932 0.0678162 7.70306 0.0546398 7.86724 0.20212C8.03137 0.349888 8.04461 0.603568 7.89692 0.767766L4.29684 4.76791L4.23434 4.82417C4.16662 4.87328 4.08425 4.89995 3.99918 4.89995C3.88588 4.89989 3.77733 4.85213 3.70152 4.76791L0.10144 0.767766L0.0537825 0.702139C-0.040206 0.541753 -0.0124254 0.331356 0.131128 0.20212C0.274775 0.0728844 0.486972 0.0674593 0.636608 0.1779L0.696765 0.231808L3.99918 3.90148L7.3016 0.231808Z" fill="currentColor"></path></svg></button></li><li class="body-3 SiteHeader-module-scss-module__zKj4Ca__navItem" data-category="Learn"><button class="SiteHeader-module-scss-module__zKj4Ca__navText" aria-haspopup="menu" aria-expanded="false" aria-controls="nav-dropdown-Learn"><span>Learn</span><svg class="Icon-module-scss-module__lqbdHG__icon SiteHeader-module-scss-module__zKj4Ca__caretIcon" width="12" height="6.13" viewBox="0 0 8 5"><path d="M7.3016 0.231808C7.44932 0.0678162 7.70306 0.0546398 7.86724 0.20212C8.03137 0.349888 8.04461 0.603568 7.89692 0.767766L4.29684 4.76791L4.23434 4.82417C4.16662 4.87328 4.08425 4.89995 3.99918 4.89995C3.88588 4.89989 3.77733 4.85213 3.70152 4.76791L0.10144 0.767766L0.0537825 0.702139C-0.040206 0.541753 -0.0124254 0.331356 0.131128 0.20212C0.274775 0.0728844 0.486972 0.0674593 0.636608 0.1779L0.696765 0.231808L3.99918 3.90148L7.3016 0.231808Z" fill="currentColor"></path></svg></button></li><li class="body-3 SiteHeader-module-scss-module__zKj4Ca__navItem"><a href="/news" class="SiteHeader-module-scss-module__zKj4Ca__navText">News</a></li></ul></nav><div class="SiteHeader-module-scss-module__zKj4Ca__claudeCtaWrapper"><a href="https://claude.ai/" class="SiteHeader-module-scss-module__zKj4Ca__claudeCtaButton body-3" target="_blank" rel="noopener noreferrer">Try Claude</a><div class="SiteHeader-module-scss-module__zKj4Ca__claudeCtaDropdownTrigger"><svg class="Icon-module-scss-module__lqbdHG__icon SiteHeader-module-scss-module__zKj4Ca__claudeCtaIcon" width="12" height="6.13" viewBox="0 0 8 5"><path d="M7.3016 0.231808C7.44932 0.0678162 7.70306 0.0546398 7.86724 0.20212C8.03137 0.349888 8.04461 0.603568 7.89692 0.767766L4.29684 4.76791L4.23434 4.82417C4.16662 4.87328 4.08425 4.89995 3.99918 4.89995C3.88588 4.89989 3.77733 4.85213 3.70152 4.76791L0.10144 0.767766L0.0537825 0.702139C-0.040206 0.541753 -0.0124254 0.331356 0.131128 0.20212C0.274775 0.0728844 0.486972 0.0674593 0.636608 0.1779L0.696765 0.231808L3.99918 3.90148L7.3016 0.231808Z" fill="currentColor"></path></svg></div></div><button class="SiteHeader-module-scss-module__zKj4Ca__mobileIcon" aria-label="Navigation menu"><svg class="Icon-module-scss-module__lqbdHG__icon" width="24" height="24" viewBox="0 0 40 40"><path d="M18.75 28C19.1641 28.0002 19.5 28.3359 19.5 28.75C19.4999 29.1641 19.164 29.4998 18.75 29.5H7.91699C7.50281 29.5 7.16705 29.1642 7.16699 28.75C7.16699 28.3358 7.50278 28 7.91699 28H18.75ZM32.084 19.25C32.4979 19.2504 32.834 19.586 32.834 20C32.8339 20.4139 32.4979 20.7496 32.084 20.75H7.91699C7.50281 20.75 7.16705 20.4142 7.16699 20C7.16699 19.5858 7.50278 19.25 7.91699 19.25H32.084ZM32.084 10.5C32.4979 10.5004 32.834 10.836 32.834 11.25C32.8339 11.6639 32.4979 11.9996 32.084 12H7.91699C7.50282 12 7.16706 11.6642 7.16699 11.25C7.16699 10.8358 7.50278 10.5 7.91699 10.5H32.084Z" fill="#141413"></path></svg></button></div></div></header><main id="main-content" class=""><section class="page-wrapper HeroEngineering-module-scss-module__j1ivRa__hero" aria-label="Engineering Article Hero"><a class="body-2 bold HeroEngineering-module-scss-module__j1ivRa__hubLink" href="/engineering">Engineering at Anthropic</a><div class="HeroEngineering-module-scss-module__j1ivRa__content"><div class="HeroEngineering-module-scss-module__j1ivRa__header"><div class="HeroEngineering-module-scss-module__j1ivRa__heroImage"><img alt="" loading="lazy" width="1000" height="1000" decoding="async" data-nimg="1" style="color:transparent" src="https://www-cdn.anthropic.com/images/4zrzovbb/website/5dfb835ad3cbbf76b85824e969146eac20329e72-1000x1000.svg"/></div><h1 class="headline-1">Effective harnesses for long-running agents</h1></div><div class="HeroEngineering-module-scss-module__j1ivRa__metadata"><p class="body-2 HeroEngineering-module-scss-module__j1ivRa__date">Published <!-- -->Nov 26, 2025</p><p class="body-large-1 HeroEngineering-module-scss-module__j1ivRa__summary">Agents still face challenges working across many context windows. We looked to human engineers for inspiration in creating a more effective harness for long-running agents.</p></div></div></section><div class="page-wrapper"><article><div class=""><div class="Body-module-scss-module__z40yvW__body" data-theme="ivory"><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">As AI agents become more capable, developers are increasingly asking them to take on complex tasks requiring work that spans hours, or even days. However, getting agents to make consistent progress across multiple context windows remains an open problem.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">The core challenge of long-running agents is that they must work in discrete sessions, and each new session begins with no memory of what came before. Imagine a software project staffed by engineers working in shifts, where each new engineer arrives with no memory of what happened on the previous shift. Because context windows are limited, and because most complex projects cannot be completed within a single window, agents need a way to bridge the gap between coding sessions.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">We developed a two-fold solution to enable the <a href="https://platform.claude.com/docs/en/agent-sdk/overview">Claude Agent SDK</a> to work effectively across many context windows: an <strong>initializer agent</strong> that sets up the environment on the first run, and a <strong>coding agent</strong> that is tasked with making incremental progress in every session, while leaving clear artifacts for the next session. You can find code examples in the accompanying <a href="https://github.com/anthropics/claude-quickstarts/tree/main/autonomous-coding">quickstart.</a></p><h2 class="Body-module-scss-module__z40yvW__reading-column headline-5 post-section" id="the-long-running-agent-problem">The long-running agent problem</h2><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">The Claude Agent SDK is a powerful, general-purpose agent harness adept at coding, as well as other tasks that require the model to use tools to gather context, plan, and execute. It has context management capabilities such as compaction, which enables an agent to work on a task without exhausting the context window. Theoretically, given this setup, it should be possible for an agent to continue to do useful work for an arbitrarily long time.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">However, compaction isn’t sufficient. Out of the box, even a frontier coding model like Opus 4.5 running on the Claude Agent SDK in a loop across multiple context windows will fall short of building a production-quality web app if it’s only given a high-level prompt, such as “build a clone of <a href="http://claude.ai/redirect/website.v1.1fefe45f-1fee-4b25-9393-337bb968aac9">claude.ai</a>.”</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Claude’s failures manifested in two patterns. First, the agent tended to try to do too much at once—essentially to attempt to one-shot the app. Often, this led to the model running out of context in the middle of its implementation, leaving the next session to start with a feature half-implemented and undocumented. The agent would then have to guess at what had happened, and spend substantial time trying to get the basic app working again. This happens even with compaction, which doesn’t always pass perfectly clear instructions to the next agent.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">A second failure mode would often occur later in a project. After some features had already been built, a later agent instance would look around, see that progress had been made, and declare the job done.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">This decomposes the problem into two parts. First, we need to set up an initial environment that lays the foundation for <em>all</em> the features that a given prompt requires, which sets up the agent to work step-by-step and feature-by-feature. Second, we should prompt each agent to make incremental progress towards its goal while also leaving the environment in a clean state at the end of a session. By “clean state” we mean the kind of code that would be appropriate for merging to a main branch: there are no major bugs, the code is orderly and well-documented, and in general, a developer could easily begin work on a new feature without first having to clean up an unrelated mess.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">When experimenting internally, we addressed these problems using a two-part solution:</p><ol class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"><li>Initializer agent: The very first agent session uses a specialized prompt that asks the model to set up the initial environment: an <code class="InlineCodeBlock-module-scss-module__nsPAba__code">init.sh</code> script, a claude-progress.txt file that keeps a log of what agents have done, and an initial git commit that shows what files were added.</li><li>Coding agent: Every subsequent session asks the model to make incremental progress, then leave structured updates.<sup class="caption Body-module-scss-module__z40yvW__sup">1</sup></li></ol><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">The key insight here was finding a way for agents to quickly understand the state of work when starting with a fresh context window, which is accomplished with the claude-progress.txt file alongside the git history. Inspiration for these practices came from knowing what effective software engineers do every day.</p><h2 class="Body-module-scss-module__z40yvW__reading-column headline-5 post-section" id="environment-management-">Environment management </h2><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">In the updated <a href="https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/claude-4-best-practices#multi-context-window-workflows">Claude 4 prompting guide</a>, we shared some best practices for multi-context window workflows, including a harness structure that uses “a different prompt for the very first context window.” This “different prompt” requests that the initializer agent set up the environment with all the necessary context that future coding agents will need to work effectively. Here, we provide a deeper dive on some of the key components of such an environment.</p><h3 class="Body-module-scss-module__z40yvW__reading-column headline-6 post-subsection" id="feature-list">Feature list</h3><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">To address the problem of the agent one-shotting an app or prematurely considering the project complete, we prompted the initializer agent to write a comprehensive file of feature requirements expanding on the user’s initial prompt. In the <a href="http://claude.ai/redirect/website.v1.1fefe45f-1fee-4b25-9393-337bb968aac9">claude.ai</a> clone example, this meant over 200 features, such as “a user can open a new chat, type in a query, press enter, and see an AI response.” These features were all initially marked as “failing” so that later coding agents would have a clear outline of what full functionality looked like.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"></p><div class="Body-module-scss-module__z40yvW__media-column Body-module-scss-module__z40yvW__inline"><div class="CodeBlock-module-scss-module__PbWBnq__codeBlock"><pre class="" style="--height:300px;--height-expanded:0px"><code class="plaintext">{
    &quot;category&quot;: &quot;functional&quot;,
    &quot;description&quot;: &quot;New chat button creates a fresh conversation&quot;,
    &quot;steps&quot;: [
      &quot;Navigate to main interface&quot;,
      &quot;Click the &#x27;New Chat&#x27; button&quot;,
      &quot;Verify a new conversation is created&quot;,
      &quot;Check that chat area shows welcome state&quot;,
      &quot;Verify conversation appears in sidebar&quot;
    ],
    &quot;passes&quot;: false
  }
</code></pre><div class="CodeBlock-module-scss-module__PbWBnq__controls"><button aria-label="Copy code"><svg class="Icon-module-scss-module__lqbdHG__icon" width="11" height="15" viewBox="0 0 11 15"><path d="M5.4 0C6.39875 0 7.26819 0.543814 7.73525 1.35H9.45C10.1956 1.35 10.8 1.95442 10.8 2.7V13.5C10.8 14.2456 10.1956 14.85 9.45 14.85H1.35C0.604415 14.85 2.17436e-08 14.2456 0 13.5V2.7C1.7395e-07 1.95442 0.604415 1.35 1.35 1.35H3.06475C3.53181 0.543814 4.40125 0 5.4 0ZM1.35 2.25C1.10147 2.25 0.9 2.45147 0.9 2.7V13.5C0.9 13.7485 1.10147 13.95 1.35 13.95H9.45C9.69853 13.95 9.9 13.7485 9.9 13.5V2.7C9.9 2.45147 9.69853 2.25 9.45 2.25H8.06221C8.08677 2.39637 8.1 2.54665 8.1 2.7V3.6C8.1 3.84853 7.89853 4.05 7.65 4.05H3.15C2.90147 4.05 2.7 3.84853 2.7 3.6V2.7C2.7 2.54665 2.71323 2.39637 2.73779 2.25H1.35ZM7.68603 10.6233C7.78376 10.395 8.04828 10.2886 8.27666 10.386C8.50499 10.4838 8.61143 10.7483 8.51396 10.9767C8.24856 11.5967 7.73014 12.15 7.01982 12.15C6.58192 12.1499 6.21722 11.9397 5.93965 11.6332C5.66215 11.9395 5.29801 12.1499 4.86035 12.15C4.42229 12.15 4.05692 11.9398 3.7793 11.6332C3.50175 11.9395 3.13773 12.15 2.7 12.15C2.45147 12.15 2.25 11.9485 2.25 11.7C2.25 11.4515 2.45147 11.25 2.7 11.25C2.8912 11.25 3.16726 11.0879 3.36621 10.6233L3.39697 10.5636C3.47806 10.4321 3.62261 10.35 3.78018 10.35C3.9602 10.3501 4.1233 10.4578 4.19414 10.6233C4.39309 11.0878 4.66917 11.25 4.86035 11.25C5.05156 11.2498 5.32773 11.0877 5.52656 10.6233L5.55732 10.5636C5.63837 10.4323 5.78229 10.3501 5.93965 10.35C6.11974 10.35 6.28275 10.4578 6.35361 10.6233C6.55251 11.0878 6.82862 11.2499 7.01982 11.25C7.21102 11.25 7.48708 11.0879 7.68603 10.6233ZM7.68603 7.02334C7.78376 6.79501 8.04828 6.68857 8.27666 6.78604C8.50499 6.88376 8.61143 7.14828 8.51396 7.37666C8.24856 7.99675 7.73014 8.55 7.01982 8.55C6.58192 8.54994 6.21722 8.3397 5.93965 8.0332C5.66215 8.33947 5.29801 8.54989 4.86035 8.55C4.42229 8.55 4.05692 8.33983 3.7793 8.0332C3.50175 8.33945 3.13773 8.55 2.7 8.55C2.45147 8.55 2.25 8.34853 2.25 8.1C2.25 7.85147 2.45147 7.65 2.7 7.65C2.8912 7.65 3.16726 7.48791 3.36621 7.02334L3.39697 6.96357C3.47806 6.83213 3.62261 6.75 3.78018 6.75C3.9602 6.75007 4.1233 6.85783 4.19414 7.02334C4.39309 7.48782 4.66917 7.65 4.86035 7.65C5.05156 7.6498 5.32773 7.48772 5.52656 7.02334L5.55732 6.96357C5.63837 6.83232 5.78229 6.75012 5.93965 6.75C6.11974 6.75 6.28275 6.85778 6.35361 7.02334C6.55251 7.48782 6.82862 7.6499 7.01982 7.65C7.21102 7.65 7.48708 7.48786 7.68603 7.02334ZM5.4 0.9C4.40589 0.9 3.6 1.70589 3.6 2.7V3.15H7.2V2.7C7.2 1.70589 6.39411 0.9 5.4 0.9Z" fill="currentColor"></path></svg><span class="body-3">Copy</span></button></div></div></div><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">We prompt coding agents to edit this file only by changing the status of a passes field, and we use strongly-worded instructions like “It is unacceptable to remove or edit tests because this could lead to missing or buggy functionality.” After some experimentation, we landed on using JSON for this, as the model is less likely to inappropriately change or overwrite JSON files compared to Markdown files.</p><h3 class="Body-module-scss-module__z40yvW__reading-column headline-6 post-subsection" id="incremental-progress">Incremental progress</h3><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Given this initial environment scaffolding, the next iteration of the coding agent was then asked to work on only one feature at a time. This incremental approach turned out to be critical to addressing the agent’s tendency to do too much at once.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Once working incrementally, it’s still essential that the model leaves the environment in a clean state after making a code change. In our experiments, we found that the best way to elicit this behavior was to ask the model to commit its progress to git with descriptive commit messages and to write summaries of its progress in a progress file. This allowed the model to use git to revert bad code changes and recover working states of the code base.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">These approaches also increased efficiency, as they eliminated the need for an agent to have to guess at what had happened and spend its time trying to get the basic app working again.</p><h3 class="Body-module-scss-module__z40yvW__reading-column headline-6 post-subsection" id="testing">Testing</h3><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">One final major failure mode that we observed was Claude’s tendency to mark a feature as complete without proper testing. Absent explicit prompting, Claude tended to make code changes, and even do testing with unit tests or <code class="InlineCodeBlock-module-scss-module__nsPAba__code">curl</code> commands against a development server, but would fail recognize that the feature didn’t work end-to-end.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">In the case of building a web app, Claude mostly did well at verifying features end-to-end once explicitly prompted to use browser automation tools and do all testing as a human user would. </p><div class="Body-module-scss-module__z40yvW__media-column Body-module-scss-module__z40yvW__inline"><figure class="ImageWithCaption-module-scss-module__Duq99q__e-imageWithCaption"><img alt=" Screenshots taken by Claude through the Puppeteer MCP server as it tested the claude.ai clone. " loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Ff94c2257964fb2d623f1e81f874977ebfc0986bc-1920x1080.gif&amp;w=1920&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Ff94c2257964fb2d623f1e81f874977ebfc0986bc-1920x1080.gif&amp;w=3840&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Ff94c2257964fb2d623f1e81f874977ebfc0986bc-1920x1080.gif&amp;w=3840&amp;q=75"/><figcaption class="caption">Screenshots taken by Claude through the Puppeteer MCP server as it tested the claude.ai clone. <br/></figcaption></figure></div><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Providing Claude with these kinds of testing tools dramatically improved performance, as the agent was able to identify and fix bugs that weren’t obvious from the code alone.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Some issues remain, like limitations to Claude’s vision and to browser automation tools making it difficult to identify every kind of bug. For example, Claude can’t see browser-native alert modals through the Puppeteer MCP, and features relying on these modals tended to be buggier as a result.</p><h2 class="Body-module-scss-module__z40yvW__reading-column headline-5 post-section" id="getting-up-to-speed">Getting up to speed</h2><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">With all of the above in place, every coding agent is prompted to run through a series of steps to get its bearings, some quite basic but still helpful:</p><ol class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"><li><em>Run <code class="InlineCodeBlock-module-scss-module__nsPAba__code">pwd</code> to see the directory you’re working in. You’ll only be able to edit files in this directory.</em></li><li><em>Read the git logs and progress files to get up to speed on what was recently worked on.</em></li><li><em>Read the features list file and choose the highest-priority feature that’s not yet done to work on.</em></li></ol><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">This approach saves Claude some tokens in every session since it doesn’t have to figure out how to test the code. It also helps to ask the initializer agent to write an init.sh script that can run the development server, and then run through a basic end-to-end test before implementing a new feature.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">In the case of the claude.ai clone, this meant that the agent always started the local development server and used the Puppeteer MCP to start a new chat, send a message, and receive a response. This ensured that Claude could quickly identify if the app had been left in a broken state, and immediately fix any existing bugs. If the agent had instead started implementing a new feature, it would likely make the problem worse.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Given all this, a typical session starts off with the following assistant messages:</p><div class="Body-module-scss-module__z40yvW__media-column Body-module-scss-module__z40yvW__inline"><div class="CodeBlock-module-scss-module__PbWBnq__codeBlock"><pre class="" style="--height:300px;--height-expanded:0px"><code class="plaintext">[Assistant] I&#x27;ll start by getting my bearings and understanding the current state of the project.
[Tool Use] &lt;bash - pwd&gt;
[Tool Use] &lt;read - claude-progress.txt&gt;
[Tool Use] &lt;read - feature_list.json&gt;
[Assistant] Let me check the git log to see recent work.
[Tool Use] &lt;bash - git log --oneline -20&gt;
[Assistant] Now let me check if there&#x27;s an init.sh script to restart the servers.
&lt;Starts the development server&gt;
[Assistant] Excellent! Now let me navigate to the application and verify that some fundamental features are still working.
&lt;Tests basic functionality&gt;
[Assistant] Based on my verification testing, I can see that the fundamental functionality is working well. The core chat features, theme switching, conversation loading, and error handling are all functioning correctly. Now let me review the tests.json file more comprehensively to understand what needs to be implemented next.
&lt;Starts work on a new feature&gt;</code></pre><div class="CodeBlock-module-scss-module__PbWBnq__controls"><button aria-label="Copy code"><svg class="Icon-module-scss-module__lqbdHG__icon" width="11" height="15" viewBox="0 0 11 15"><path d="M5.4 0C6.39875 0 7.26819 0.543814 7.73525 1.35H9.45C10.1956 1.35 10.8 1.95442 10.8 2.7V13.5C10.8 14.2456 10.1956 14.85 9.45 14.85H1.35C0.604415 14.85 2.17436e-08 14.2456 0 13.5V2.7C1.7395e-07 1.95442 0.604415 1.35 1.35 1.35H3.06475C3.53181 0.543814 4.40125 0 5.4 0ZM1.35 2.25C1.10147 2.25 0.9 2.45147 0.9 2.7V13.5C0.9 13.7485 1.10147 13.95 1.35 13.95H9.45C9.69853 13.95 9.9 13.7485 9.9 13.5V2.7C9.9 2.45147 9.69853 2.25 9.45 2.25H8.06221C8.08677 2.39637 8.1 2.54665 8.1 2.7V3.6C8.1 3.84853 7.89853 4.05 7.65 4.05H3.15C2.90147 4.05 2.7 3.84853 2.7 3.6V2.7C2.7 2.54665 2.71323 2.39637 2.73779 2.25H1.35ZM7.68603 10.6233C7.78376 10.395 8.04828 10.2886 8.27666 10.386C8.50499 10.4838 8.61143 10.7483 8.51396 10.9767C8.24856 11.5967 7.73014 12.15 7.01982 12.15C6.58192 12.1499 6.21722 11.9397 5.93965 11.6332C5.66215 11.9395 5.29801 12.1499 4.86035 12.15C4.42229 12.15 4.05692 11.9398 3.7793 11.6332C3.50175 11.9395 3.13773 12.15 2.7 12.15C2.45147 12.15 2.25 11.9485 2.25 11.7C2.25 11.4515 2.45147 11.25 2.7 11.25C2.8912 11.25 3.16726 11.0879 3.36621 10.6233L3.39697 10.5636C3.47806 10.4321 3.62261 10.35 3.78018 10.35C3.9602 10.3501 4.1233 10.4578 4.19414 10.6233C4.39309 11.0878 4.66917 11.25 4.86035 11.25C5.05156 11.2498 5.32773 11.0877 5.52656 10.6233L5.55732 10.5636C5.63837 10.4323 5.78229 10.3501 5.93965 10.35C6.11974 10.35 6.28275 10.4578 6.35361 10.6233C6.55251 11.0878 6.82862 11.2499 7.01982 11.25C7.21102 11.25 7.48708 11.0879 7.68603 10.6233ZM7.68603 7.02334C7.78376 6.79501 8.04828 6.68857 8.27666 6.78604C8.50499 6.88376 8.61143 7.14828 8.51396 7.37666C8.24856 7.99675 7.73014 8.55 7.01982 8.55C6.58192 8.54994 6.21722 8.3397 5.93965 8.0332C5.66215 8.33947 5.29801 8.54989 4.86035 8.55C4.42229 8.55 4.05692 8.33983 3.7793 8.0332C3.50175 8.33945 3.13773 8.55 2.7 8.55C2.45147 8.55 2.25 8.34853 2.25 8.1C2.25 7.85147 2.45147 7.65 2.7 7.65C2.8912 7.65 3.16726 7.48791 3.36621 7.02334L3.39697 6.96357C3.47806 6.83213 3.62261 6.75 3.78018 6.75C3.9602 6.75007 4.1233 6.85783 4.19414 7.02334C4.39309 7.48782 4.66917 7.65 4.86035 7.65C5.05156 7.6498 5.32773 7.48772 5.52656 7.02334L5.55732 6.96357C5.63837 6.83232 5.78229 6.75012 5.93965 6.75C6.11974 6.75 6.28275 6.85778 6.35361 7.02334C6.55251 7.48782 6.82862 7.6499 7.01982 7.65C7.21102 7.65 7.48708 7.48786 7.68603 7.02334ZM5.4 0.9C4.40589 0.9 3.6 1.70589 3.6 2.7V3.15H7.2V2.7C7.2 1.70589 6.39411 0.9 5.4 0.9Z" fill="currentColor"></path></svg><span class="body-3">Copy</span></button></div></div></div><div class="Body-module-scss-module__z40yvW__media-column Body-module-scss-module__z40yvW__inline"><div class="Table-module-scss-module__Z3bHXa__root"><div aria-label="Summarizing four common failure modes and solutions in long-running AI agents." class="Table-module-scss-module__Z3bHXa__tableWrapper" role="region" tabindex="0"><p class="headline-6">Agent failure modes and solutions </p><table class="Table-module-scss-module__Z3bHXa__table Table-module-scss-module__Z3bHXa__fixedFirstColumn"><tbody><tr class="Table-module-scss-module__Z3bHXa__row"><th class="body-3"><strong>Problem</strong></th><th class="body-3"><strong>Initializer Agent Behavior </strong></th><th class="body-3"><strong>Coding Agent Behavior</strong></th></tr><tr class="Table-module-scss-module__Z3bHXa__row"><td class="body-3">Claude declares victory on the entire project too early.</td><td class="body-3">Set up a feature list file: based on the input spec, set up a structured JSON file with a list of end-to-end feature descriptions.</td><td class="body-3">Read the feature list file at the beginning of a session. Choose a single feature to start working on.</td></tr><tr class="Table-module-scss-module__Z3bHXa__row"><td class="body-3">Claude leaves the environment in a state with bugs or undocumented progress.</td><td class="body-3">An initial git repo and progress notes file is written.</td><td class="body-3">Start the session by reading the progress notes file and git commit logs, and run a basic test on the development server to catch any undocumented bugs. End the session by writing a git commit and progress update.</td></tr><tr class="Table-module-scss-module__Z3bHXa__row"><td class="body-3">Claude marks features as done prematurely.</td><td class="body-3">Set up a feature list file.</td><td class="body-3">Self-verify all features. Only mark features as “passing” after careful testing.</td></tr><tr class="Table-module-scss-module__Z3bHXa__row"><td class="body-3">Claude has to spend time figuring out how to run the app.</td><td class="body-3">Write an <code class="InlineCodeBlock-module-scss-module__nsPAba__code">init.sh</code> script that can run the development server.</td><td class="body-3">Start the session by reading <code class="InlineCodeBlock-module-scss-module__nsPAba__code">init.sh</code>.</td></tr></tbody></table></div><figcaption class="caption">Summarizing four common failure modes and solutions in long-running AI agents.</figcaption></div></div><h2 class="Body-module-scss-module__z40yvW__reading-column headline-5 post-section" id="future-work">Future work</h2><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">This research demonstrates one possible set of solutions in a long-running agent harness to enable the model to make incremental progress across many context windows. However, there remain open questions.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Most notably, it’s still unclear whether a single, general-purpose coding agent performs best across contexts, or if better performance can be achieved through a multi-agent architecture. It seems reasonable that specialized agents like a testing agent, a quality assurance agent, or a code cleanup agent, could do an even better job at sub-tasks across the software development lifecycle.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Additionally, this demo is optimized for full-stack web app development. A future direction is to generalize these findings to other fields. It’s likely that some or all of these lessons can be applied to the types of long-running agentic tasks required in, for example, scientific research or financial modeling.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"></p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"></p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"></p><h3 class="Body-module-scss-module__z40yvW__reading-column headline-6 post-subsection" id="acknowledgements">Acknowledgements</h3><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">Written by Justin Young. Special thanks to David Hershey, Prithvi Rajasakeran, Jeremy Hadfield, Naia Bouscal, Michael Tingley, Jesse Mu, Jake Eaton, Marius Buleandara, Maggie Vo, Pedram Navid, Nadine Yasser, and Alex Notov for their contributions.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text">This work reflects the collective efforts of several teams across Anthropic who made it possible for Claude to safely do long-horizon autonomous software engineering, especially the code RL &amp; Claude Code teams. Interested candidates who would like to contribute are welcome to apply at <a href="http://anthropic.com/careers">anthropic.com/careers</a>.</p><p class="Body-module-scss-module__z40yvW__reading-column body-2 serif post-text"></p><h3 class="Body-module-scss-module__z40yvW__reading-column headline-6 post-subsection" id="footnotes">Footnotes</h3><p class="Body-module-scss-module__z40yvW__reading-column body-3 serif post-footnote Body-module-scss-module__z40yvW__footnote">1. We refer to these as separate agents in this context only because they have different initial user prompts. The system prompt, set of tools, and overall agent harness was otherwise identical.</p></div></div></article><div class="NewsletterEngineering-module-scss-module__AiizZa__wrapper"><div class="NewsletterEngineering-module-scss-module__AiizZa__content"><div class="NewsletterEngineering-module-scss-module__AiizZa__textContent"><h2 class="headline-5 NewsletterEngineering-module-scss-module__AiizZa__title">Get the developer newsletter</h2><div class="NewsletterEngineering-module-scss-module__AiizZa__body"><p class="body-1 serif tight">Product updates, how-tos, community spotlights, and more. Delivered monthly to your inbox.</p></div></div><div class="NewsletterEngineering-module-scss-module__AiizZa__formContainer"><form class="NewsletterEngineering-module-scss-module__AiizZa__emailForm"><div class="NewsletterEngineering-module-scss-module__AiizZa__inputWrapper"><input type="email" placeholder="Enter your email" class="NewsletterEngineering-module-scss-module__AiizZa__emailInput" required="" name="email" value=""/><button type="submit" class="NewsletterEngineering-module-scss-module__AiizZa__submitButton"><svg class="Icon-module-scss-module__lqbdHG__icon" width="20" height="20" viewBox="0 0 21 21"><path d="M4.14585 9.87492L14.4584 9.87492L9.60419 5.04158L10.5 4.14575L16.8542 10.4999L10.5 16.8541L9.60419 15.9583L14.4584 11.1249L4.14585 11.1249L4.14585 9.87492Z" fill="#ffffff"></path></svg></button></div><p class="body-3">Please provide your email address if you’d like to receive our monthly developer newsletter. You can unsubscribe at any time.</p></form></div></div></div></div></main><footer id="footer" class="SiteFooter-module-scss-module__JdOqwq__root" role="contentinfo" aria-label="Site footer"><div class="page-wrapper SiteFooter-module-scss-module__JdOqwq__footer"><div class="SiteFooter-module-scss-module__JdOqwq__logoWrapper"><a href="/" aria-label="Return to homepage"><svg class="Icon-module-scss-module__lqbdHG__icon" width="46" height="32" viewBox="0 0 46 32"><path d="M32.73 0h-6.945L38.45 32h6.945L32.73 0ZM12.665 0 0 32h7.082l2.59-6.72h13.25l2.59 6.72h7.082L19.929 0h-7.264Zm-.702 19.337 4.334-11.246 4.334 11.246h-8.668Z" fill="#faf9f5"></path></svg></a></div><nav class="SiteFooter-module-scss-module__JdOqwq__linksWrapper" aria-label="Footer navigation"><div class="SiteFooter-module-scss-module__JdOqwq__columnSection"><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Products</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://claude.com/product/overview" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Claude</a></li><li><a href="https://claude.com/product/claude-code" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Claude Code</a></li><li><a href="https://claude.com/claude-and-slack" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Claude and Slack</a></li><li><a href="https://claude.com/claude-for-excel" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Claude in Excel</a></li><li><a href="https://claude.com/pricing/max" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Max plan</a></li><li><a href="https://claude.com/pricing/team" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Team plan</a></li><li><a href="https://claude.com/pricing/enterprise" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Enterprise plan</a></li><li><a href="https://claude.ai/download" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Download app</a></li><li><a href="https://claude.com/pricing" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Pricing</a></li><li><a href="https://claude.ai/" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Log in to Claude</a></li></ul></div><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Models</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://www.anthropic.com/claude/opus" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Opus</a></li><li><a href="https://www.anthropic.com/claude/sonnet" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Sonnet</a></li><li><a href="https://www.anthropic.com/claude/haiku" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Haiku</a></li></ul></div></div><div class="SiteFooter-module-scss-module__JdOqwq__columnSection"><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Solutions</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://claude.com/solutions/agents" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">AI agents</a></li><li><a href="https://claude.com/solutions/code-modernization" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Code modernization</a></li><li><a href="https://claude.com/solutions/coding" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Coding</a></li><li><a href="https://claude.com/solutions/customer-support" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Customer support</a></li><li><a href="https://claude.com/solutions/education" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Education</a></li><li><a href="https://claude.com/solutions/financial-services" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Financial services</a></li><li><a href="https://claude.com/solutions/government" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Government</a></li><li><a href="https://claude.com/solutions/life-sciences" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Life sciences</a></li></ul></div><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Claude Developer Platform</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://claude.com/platform/api" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Overview</a></li><li><a href="https://platform.claude.com/docs" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Developer docs</a></li><li><a href="https://claude.com/pricing#api" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Pricing</a></li><li><a href="https://claude.com/partners/amazon-bedrock" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Amazon Bedrock</a></li><li><a href="https://claude.com/partners/google-cloud-vertex-ai" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Google Cloud’s Vertex AI</a></li><li><a href="http://console.anthropic.com/" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Console login</a></li></ul></div></div><div class="SiteFooter-module-scss-module__JdOqwq__columnSection"><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Learn</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://claude.com/blog" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Blog</a></li><li><a href="/learn" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Courses</a></li><li><a href="https://claude.com/resources/use-cases" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Use cases</a></li><li><a href="https://claude.com/partners/mcp" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Connectors</a></li><li><a href="https://claude.com/customers" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Customer stories</a></li><li><a href="/engineering" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Engineering at Anthropic</a></li><li><a href="/events" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Events</a></li><li><a href="https://claude.com/partners/powered-by-claude" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Powered by Claude</a></li><li><a href="https://claude.com/partners/services" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Service partners</a></li><li><a href="https://claude.com/programs/startups" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Startups program</a></li></ul></div><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Company</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="/company" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Anthropic</a></li><li><a href="/careers" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Careers</a></li><li><a href="/economic-index" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Economic Futures</a></li><li><a href="/research" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Research</a></li><li><a href="/news" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">News</a></li><li><a href="https://www.anthropic.com/news/announcing-our-updated-responsible-scaling-policy" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Responsible Scaling Policy</a></li><li><a href="https://trust.anthropic.com/" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Security and compliance</a></li><li><a href="/transparency" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Transparency</a></li></ul></div></div><div class="SiteFooter-module-scss-module__JdOqwq__columnSection"><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Help and security</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://www.anthropic.com/supported-countries" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Availability</a></li><li><a href="https://status.anthropic.com/" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Status</a></li><li><a href="https://support.claude.com/en/" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2" target="_blank" rel="noopener noreferrer">Support center</a></li></ul></div><div class="SiteFooter-module-scss-module__JdOqwq__listSection"><h3 class="body-2 bold">Terms and policies</h3><ul class="SiteFooter-module-scss-module__JdOqwq__list"><li><a href="https://www.anthropic.com/legal/privacy" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Privacy policy</a></li><li><a href="https://www.anthropic.com/responsible-disclosure-policy" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Responsible disclosure policy</a></li><li><a href="https://www.anthropic.com/legal/commercial-terms" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Terms of service: Commercial</a></li><li><a href="https://www.anthropic.com/legal/consumer-terms" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Terms of service: Consumer</a></li><li><a href="https://www.anthropic.com/legal/aup" class="SiteFooter-module-scss-module__JdOqwq__listItem body-2">Usage policy</a></li></ul></div></div></nav><div class="SiteFooter-module-scss-module__JdOqwq__socialWrapper"><small class="body-2 SiteFooter-module-scss-module__JdOqwq__copyright" role="contentinfo">© 2025 Anthropic PBC</small><ul class="SiteFooter-module-scss-module__JdOqwq__socialIcons" role="navigation" aria-label="Social media links"><li><a href="https://www.linkedin.com/company/anthropicresearch" aria-label="Visit our LinkedIn page" target="_blank" rel="noopener noreferrer"><svg class="Icon-module-scss-module__lqbdHG__icon" width="24" height="24" viewBox="0 0 32 32"><path d="M25.8182 4H6.18182C4.97636 4 4 4.97636 4 6.18182V25.8182C4 27.0236 4.97636 28 6.18182 28H25.8182C27.0236 28 28 27.0236 28 25.8182V6.18182C28 4.97636 27.0236 4 25.8182 4ZM11.5862 23.6364H8.368V13.2815H11.5862V23.6364ZM9.94436 11.8011C8.90691 11.8011 8.068 10.96 8.068 9.92473C8.068 8.88945 8.908 8.04945 9.94436 8.04945C10.9785 8.04945 11.8196 8.89055 11.8196 9.92473C11.8196 10.96 10.9785 11.8011 9.94436 11.8011ZM23.6407 23.6364H20.4247V18.6007C20.4247 17.3996 20.4029 15.8549 18.7524 15.8549C17.0778 15.8549 16.8204 17.1629 16.8204 18.5135V23.6364H13.6044V13.2815H16.6916V14.6964H16.7353C17.1651 13.8825 18.2145 13.024 19.78 13.024C23.0385 13.024 23.6407 15.1687 23.6407 17.9571V23.6364Z" fill="#b0aea5"></path></svg></a></li><li><a href="https://x.com/AnthropicAI" aria-label="Visit our X (formerly Twitter) profile" target="_blank" rel="noopener noreferrer"><svg class="Icon-module-scss-module__lqbdHG__icon" width="24" height="24" viewBox="0 0 32 32"><path d="M28 28L18.6145 14.0124L18.6305 14.0255L27.0929 4H24.265L17.3713 12.16L11.8968 4H4.48021L13.2425 17.0593L13.2414 17.0582L4 28H6.82792L14.4921 18.9215L20.5834 28H28ZM10.7763 6.18182L23.9449 25.8182H21.7039L8.52468 6.18182H10.7763Z" fill="#b0aea5"></path></svg></a></li><li><a href="https://www.youtube.com/@anthropic-ai" aria-label="Visit our YouTube channel" target="_blank" rel="noopener noreferrer"><svg class="Icon-module-scss-module__lqbdHG__icon" width="24" height="24" viewBox="0 0 32 32"><path d="M29.2184 9.4375C28.9596 8.06299 27.7263 7.06201 26.2951 6.74951C24.1533 6.3125 20.1896 6 15.901 6C11.615 6 7.58782 6.3125 5.44354 6.74951C4.01486 7.06201 2.77905 7.99951 2.52021 9.4375C2.25884 11 2 13.1875 2 16C2 18.8125 2.25884 21 2.58365 22.5625C2.84502 23.937 4.0783 24.938 5.50698 25.2505C7.78068 25.6875 11.6784 26 15.967 26C20.2556 26 24.1533 25.6875 26.427 25.2505C27.8557 24.938 29.089 24.0005 29.3504 22.5625C29.6092 21 29.934 18.749 30 16C29.868 13.1875 29.5432 11 29.2184 9.4375ZM12.3941 20.375V11.625L20.319 16L12.3941 20.375Z" fill="#b0aea5"></path></svg></a></li></ul></div></div></footer><!--$?--><template id="B:1"></template><!--/$--><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">requestAnimationFrame(function(){$RT=performance.now()});</script><script src="/_next/static/chunks/c68b224ec2e5a0f0.js" nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0" id="_R_" async=""></script><title>Effective harnesses for long-running agents \ Anthropic</title><meta name="description" content="Anthropic is an AI safety and research company that&#x27;s working to build reliable, interpretable, and steerable AI systems."/><meta name="msapplication-TileColor" content="141413"/><meta name="msapplication-config" content="/browserconfig.xml"/><meta property="og:title" content="Effective harnesses for long-running agents"/><meta property="og:description" content="Anthropic is an AI safety and research company that&#x27;s working to build reliable, interpretable, and steerable AI systems."/><meta property="og:image" content="https://cdn.sanity.io/images/4zrzovbb/website/32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260.png"/><meta property="og:image:alt" content="Anthropic logo"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@AnthropicAI"/><meta name="twitter:creator" content="@AnthropicAI"/><meta name="twitter:title" content="Effective harnesses for long-running agents"/><meta name="twitter:description" content="Anthropic is an AI safety and research company that&#x27;s working to build reliable, interpretable, and steerable AI systems."/><meta name="twitter:image" content="https://cdn.sanity.io/images/4zrzovbb/website/32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260.png"/><meta name="twitter:image:alt" content="Anthropic logo"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" href="/images/icons/favicon-32x32.png"/><link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png"/><link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180"/><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="141413"/><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><div hidden id="S:0"></div><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><div hidden id="S:1"></div><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">$RC("B:1","S:1")</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">(self.__next_f=self.__next_f||[]).push([0])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"1:\"$Sreact.fragment\"\n4:I[339756,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"default\"]\n5:I[837457,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"default\"]\n9:I[168027,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"default\"]\na:I[897367,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"OutletBoundary\"]\nb:\"$Sreact.suspense\"\nd:I[897367,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"ViewportBoundary\"]\nf:I[897367,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"MetadataBoundary\"]\n11:I[264900,[\"/_next/static/chunks/1fb574e7be3f9a05.js\",\"/_next/static/chunks/5ae0d9ad512fb263.js\",\"/_next/static/chunks/c1896c986be1a2e2.js\"],\"default\"]\n12:I[96155,[\"/_next/static/chunks/1fb574e7be3f9a05.js\",\"/_next/static/chunks/5ae0d9ad512fb263.js\",\"/_next/static/chunks/c1896c986be1a2e2.js\"],\"default\"]\n14:I[775710,[\"/_next/static/chunks/1fb574e7be3f9a05.js\",\"/_next/static/chunks/5ae0d9ad512fb263.js\",\"/_next/static/chunks/c1896c986be1a2e2.js\",\"/_next/static/chunks/7792a96214bec1f0.js\",\"/_next/static/chunks/90869c85d8d8ba84.js\",\"/_next/static/chunks/55e41b6edc326dca.js\",\"/_next/static/chunks/2fd2aa01a4bc9178.js\",\"/_next/static/chunks/8bdf83f8bd0ec540.js\",\"/_next/static/chunks/046a135eda40f761.js\",\"/_next/static/chunks/8ff14dc5284a5c6d.js\",\"/_next/static/chunks/4d62cd54534b3ba6.js\",\"/_next/static/chunks/1d74fcc382f9306e.js\",\"/_next/static/chunks/8288730f5c5f5922.js\",\"/_next/static/chunks/e95d17fb31990dec.js\",\"/_next/static/chunks/2e3229a62c65aaec.js\"],\"default\"]\n15:I[212433,[\"/_next/static/chunks/1fb574e7be3f9a05.js\",\"/_next/static/chunks/5ae0d9ad512fb263.js\",\"/_next/static/chunks/c1896c986be1a2e2.js\",\"/_next/static/chunks/91a159b613adeb74.js\",\"/_next/static/chunks/90869c85d8d8ba84.js\",\"/_next/static/chunks/eeb90237787e1eca.js\",\"/_next/static/chunks/046a135eda40f761.js\",\"/_next/static/chunks/8bdf83f8bd0ec540.js\",\"/_next/static/chunks/2fd2aa01a4bc9178.js\",\"/_next/static/chunks/8ff14dc5284a5c6d.js\",\"/_next/static/chunks/8288730f5c5f5922.js\",\"/_next/static/chunks/2e3229a62c65aaec.js\",\"/_next/static/chunks/4014b723c1a53f30.js\",\"/_next/static/chunks/fba43d7d87521a3b.js\",\"/_next/static/chunks/1d74fcc382f9306e.js\"],\"default\"]\n17:I[307003,[\"/_next/static/chunks/1fb574e7be3f9a05.js\",\"/_next/static/chunks/5ae0d9ad512fb263.js\",\"/_next/static/chunks/c1896c986be1a2e2.js\",\"/_next/static/chunks/91a159b613adeb74.js\",\"/_next/static/chunks/90869c85d8d8ba84.js\",\"/_next/static/chunks/eeb90237787e1eca.js\",\"/_next/static/chunks/046a135eda40f761.js\",\"/_next/static/chunks/8bdf83f8bd0ec540.js\",\"/_next/static/chunks/2fd2aa01a4bc9178.js\",\"/_next/static/chunks/8ff14dc5284a5c6d.js\",\"/_next/static/chunks/8288730f5c5f5922.js\",\"/_next/static/chunks/2e3229a62c65aaec.js\",\"/_next/static/chunks/4014b723c1a53f30.js\",\"/_next/static/chunks/fba43d7d87521a3b.js\",\"/_next/static/chunks/1d74fcc382f9306e.js\"],\"default\"]\n18:I[27201,[\"/_next/static/chunks/d96012bcfc98706a.js\",\"/_next/static/chunks/d80b3790a119a285.js\"],\"IconMark\"]\n:HL[\"/_next/static/chunks/fed19462e770b5e0.css\",\"style\",{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]\n:HL[\"/_next/static/chunks/dcab5e8e8ad4cc11.css\",\"style\",{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]\n:HL[\"/_next/static/media/AnthropicSans_Italic_Variable-s.p.871b10c3.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/AnthropicSans_Roman_Variable-s.p.9c3450a2.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/AnthropicSerif_Italic_Variable-s.p.a41b7049.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/AnthropicSerif_Roman_Variable-s.p.5dd2f361.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"ty"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"pe\":\"font/woff2\"}]\n:HL[\"/_next/static/media/Copernicus_Book-s.p.f166c0ba.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/Copernicus_Medium-s.p.59728346.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/JetBrainsMono_VF-s.p.8dac7c36.ttf\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/ttf\"}]\n:HL[\"/_next/static/media/StyreneA_MediumItalic_Web-s.p.e9bc3c6e.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/StyreneA_Medium_Web-s.p.e5135f7e.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/StyreneA_RegularItalic_Web-s.p.7c6a646d.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/StyreneA_Regular_Web-s.p.429c699d.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/StyreneB_Medium_Web-s.p.88fa5a67.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/StyreneB_Regular_Web-s.p.cb3cc1a3.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/TiemposText_Medium-s.p.520d99f8.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/TiemposText_MediumItalic-s.p.10f44518.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/TiemposText_Regular-s.p.7f1d46d6.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/TiemposText_RegularItalic-s.p.1a798fcf.woff2\",\"font\",{\"crossOrigin\":\"\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/chunks/5854b2d87f13c141.css\",\"style\",{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]\n:HL[\"/_next/static/chunks/abb3e2075b301e6f.css\",\"style\",{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]\n:HL[\"/_next/static/chunks/5247a9f776a63f50.css\",\"style\",{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]\n:HL[\"/_next/static/chunks/3ef2df9cc3987918.css\",\"style\",{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"0:{\"P\":null,\"b\":\"5nmz-mB8DIL1i7NB-emHl\",\"c\":[\"\",\"engineering\",\"effective-harnesses-for-long-running-agents\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"(site)\",{\"children\":[\"engineering\",{\"children\":[[\"slug\",\"effective-harnesses-for-long-running-agents\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/fed19462e770b5e0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]],\"$L2\"]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/dcab5e8e8ad4cc11.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/1fb574e7be3f9a05.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/5ae0d9ad512fb263.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/c1896c986be1a2e2.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]],\"$L3\"]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/5854b2d87f13c141.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/abb3e2075b301e6f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/5247a9f776a63f50.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"link\",\"3\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/3ef2df9cc3987918.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/7792a96214bec1f0.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/90869c85d8d8ba84.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/55e41b6edc326dca.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-3\",{\"src\":\"/_next/static/chunks/2fd2aa01a4bc9178.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-4\",{\"src\":\"/_next/static/chunks/8bdf83f8bd0ec540.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-5\",{\"src\":\"/_next/static/chunks/046a135eda40f761.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-6\",{\"src\":\"/_next/static/chunks/8ff14dc5284a5c6d.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-7\",{\"src\":\"/_next/static/chunks/4d62cd54534b3ba6.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-8\",{\"src\":\"/_next/static/chunks/1d74fcc382f9306e.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-9\",{\"src\":\"/_next/static/chunks/8288730f5c5f5922.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-10\",{\"src\":\"/_next/static/chunks/e95d17fb31990dec.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"script\",\"script-11\",{\"src\":\"/_next/static/chunks/2e3229a62c65aaec.js\",\"async\":true,\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]],\"$L7\"]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false]},null,false,false],\"$L8\",false]],\"m\":\"$undefined\",\"G\":[\"$9\",[]],\"S\":false}\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"7:[\"$\",\"$La\",null,{\"children\":[\"$\",\"$b\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@c\"}]}]\n8:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$Ld\",null,{\"children\":\"$@e\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"$b\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@10\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"2:[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"anthropicsans_38ab20ab-module__m_Ag9q__variable anthropicserif_9dcb6d5c-module__l8Ld2a__variable copernicus_f8782a09-module__ahfGZW__variable styrenea_5e06b95-module__JuxQ9a__variable styreneb_4765efd3-module__CFivSW__variable tiempostext_7f420b3d-module__SmwvBG__variable jetbrainsmono_7d7bdbc6-module__j_XgJq__variable\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"3:[\"$\",\"$L11\",null,{\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\",\"children\":[[\"$\",\"$L12\",null,{}],[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$L13\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/abb3e2075b301e6f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/5854b2d87f13c141.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"6:[\"$\",\"$L14\",null,{\"article\":{\"_createdAt\":\"2025-11-21T15:28:08Z\",\"_id\":\"53177101-07d5-4bb1-b00e-30940f786f72\",\"_rev\":\"PyuqEaW6ERuWTS4QIpk8SF\",\"_system\":{\"base\":{\"id\":\"53177101-07d5-4bb1-b00e-30940f786f72\",\"rev\":\"eWLIqdlh0nWvJOX2EUl1Ub\"}},\"_type\":\"engineeringArticle\",\"_updatedAt\":\"2025-11-26T18:07:21Z\",\"body\":[{\"_key\":\"daaba1b74bbe\",\"_type\":\"block\",\"children\":[{\"_key\":\"8a01f1776bd10\",\"_type\":\"span\",\"marks\":[],\"text\":\"As AI agents become more capable, developers are increasingly asking them to take on complex tasks requiring work that spans hours, or even days. However, getting agents to make consistent progress across multiple context windows remains an open problem.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"3598d748d3d4\",\"_type\":\"block\",\"children\":[{\"_key\":\"853db10d1f6c0\",\"_type\":\"span\",\"marks\":[],\"text\":\"The core challenge of long-running agents is that they must work in discrete sessions, and each new session begins with no memory of what came before. Imagine a software project staffed by engineers working in shifts, where each new engineer arrives with no memory of what happened on the previous shift. Because context windows are limited, and because most complex projects cannot be completed within a single window, agents need a way to bridge the gap between coding sessions.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"6ccee395a28d\",\"_type\":\"block\",\"children\":[{\"_key\":\"eb6e1d1779a40\",\"_type\":\"span\",\"marks\":[],\"text\":\"We developed a two-fold solution to enable the \"},{\"_key\":\"b05d7c69e8d7\",\"_type\":\"span\",\"marks\":[\"72924e477861\"],\"text\":\"Claude Agent SDK\"},{\"_key\":\"c9913c188796\",\"_type\":\"span\",\"marks\":[],\"text\":\" to work effectively across many context windows: an \"},{\"_key\":\"eb6e1d1779a41\",\"_type\":\"span\",\"marks\":[\"strong\"],\"text\":\"initializer agent\"},{\"_key\":\"eb6e1d1779a42\",\"_type\":\"span\",\"marks\":[],\"text\":\" that sets up the environment on the first run, and a \"},{\"_key\":\"eb6e1d1779a43\",\"_type\":\"span\",\"marks\":[\"strong\"],\"text\":\"coding agent\"},{\"_key\":\"eb6e1d1779a44\",\"_type\":\"span\",\"marks\":[],\"text\":\" that is tasked with making incremental progress in every session, while leaving clear artifacts for the next session. You can find code examples in the accompanying \"},{\"_key\":\"eb6e1d1779a45\",\"_type\":\"span\",\"marks\":[\"80301f4c6f9d\"],\"text\":\"quickstart.\"}],\"markDefs\":[{\"_key\":\"80301f4c6f9d\",\"_type\":\"link\",\"href\":\"https://github.com/anthropics/claude-quickstarts/tree/main/autonomous-coding\"},{\"_key\":\"72924e477861\",\"_type\":\"link\",\"blank\":false,\"href\":\"https://platform.claude.com/docs/en/agent-sdk/overview\"}],\"style\":\"normal\"},{\"_key\":\"67c55c60fec2\",\"_type\":\"block\",\"children\":[{\"_key\":\"b195a1032bbf0\",\"_type\":\"span\",\"marks\":[],\"text\":\"The long-running agent problem\"}],\"markDefs\":[],\"style\":\"h3\"},{\"_key\":\"acb971984538\",\"_type\":\"block\",\"children\":[{\"_key\":\"9b595cc3db960\",\"_type\":\"span\",\"marks\":[],\"text\":\"The Claude Agent SDK is a powerful, general-purpose agent harness adept at coding, as well as other tasks that require the model to use tools to gather context, plan, and execute. It has context management capabilities such as compaction, which enables an agent to work on a task without exhausting the context window. Theoretically, given this setup, it should be possible for an agent to continue to do useful work for an arbitrarily long time.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"91cddd7bd915\",\"_type\":\"block\",\"children\":[{\"_key\":\"ac0ccd55b6a20\",\"_type\":\"span\",\"marks\":[],\"text\":\"However, compaction isn’t sufficient. Out of the box, even a frontier coding model like Opus 4.5 running on the Claude Agent SDK in a loop across multiple context windows will fall short of building a production-quality web app if it’s only given a high-level prompt, such as “build a clone of \"},{\"_key\":\"ac0ccd55b6a21\",\"_type\":\"span\",\"marks\":[\"e0a4f0e0c83b\"],\"text\":\"claude.ai\"},{\"_key\":\"ac0ccd55b6a22\",\"_type\":\"span\",\"marks\":[],\"text\":\".”\"}],\"markDefs\":[{\"_key\":\"e0a4f0e0c83b\",\"_type\":\"link\",\"href\":\"http://claude.ai\"}],\"style\":\"normal\"},{\"_key\":\"496e7ae33675\",\"_type\":\"block\",\"children\":[{\"_key\":\"833dcef876a90\",\"_type\":\"span\",\"marks\":[],\"text\":\"Claude’s failures manifested in two patterns. First, the agent tended to try to do too much at once—essentially to attempt to one-shot the app. Often, this led to the model running out of context in the middle of its implementation, leaving the next session to start with a feature half-implemented and undocumented. The agent would then have to guess at what had happened, and spend substantial time trying to get the basic app working again. This happens even with compaction, which doesn’t always pass perfectly clear instructions to the next agent.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"c3f51f4850fa\",\"_type\":\"block\",\"children\":[{\"_key\":\"c14304aadaff0\",\"_type\":\"span\",\"marks\":[],\"text\":\"A second failure mode would often occur later in a project. After some features had already been built, a later agent instance would look around, see that progress had been made, and declare the job done.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"7b19e5419fe6\",\"_type\":\"block\",\"children\":[{\"_key\":\"90f114ab4ad80\",\"_type\":\"span\",\"marks\":[],\"text\":\"This decomposes the problem into two parts. First, we need to set up an initial environment that lays the foundation for \"},{\"_key\":\"90f114ab4ad81\",\"_type\":\"span\",\"marks\":[\"em\"],\"text\":\"all\"},{\"_key\":\"90f114ab4ad82\",\"_type\":\"span\",\"marks\":[],\"text\":\" the features that a given prompt requires, which sets up the agent to work step-by-step and feature-by-feature. Second, we should prompt each agent to make incremental progress towards its goal while also leaving the environment in a clean state at the end of a session. By “clean state” we mean the kind of code that would be appropriate for merging to a main branch: there are no major bugs, the code is orderly and well-documented, and in general, a developer could easily begin work on a new feature without first having to clean up an unrelated mess.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"69c379c81434\",\"_type\":\"block\",\"children\":[{\"_key\":\"ffd9b32c3b980\",\"_type\":\"span\",\"marks\":[],\"text\":\"When experimenting internally, we addressed these problems using a two-part solution:\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"9a880513508f\",\"_type\":\"block\",\"children\":[{\"_key\":\"13f877dab9620\",\"_type\":\"span\",\"marks\":[],\"text\":\"Initializer agent: The very first agent session uses a specialized prompt that asks the model to set up the initial environment: an \"},{\"_key\":\"13f877dab9621\",\"_type\":\"span\",\"marks\":[\"code\"],\"text\":\"init.sh\"},{\"_key\":\"13f877dab9622\",\"_type\":\"span\",\"marks\":[],\"text\":\" script, a claude-progress.txt file that keeps a log of what agents have done, and an initial git commit that shows what files were added.\"}],\"level\":1,\"listItem\":\"number\",\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"3e39fa261cae\",\"_type\":\"block\",\"children\":[{\"_key\":\"6dd3ed91ab250\",\"_type\":\"span\",\"marks\":[],\"text\":\"Coding agent: Every subsequent session asks the model to make incremental progress, then leave structured updates.\"},{\"_key\":\"aa6cfdb5c78d\",\"_type\":\"span\",\"marks\":[\"sup\"],\"text\":\"1\"}],\"level\":1,\"listItem\":\"number\",\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"192e937499ec\",\"_type\":\"block\",\"children\":[{\"_key\":\"cbeaad2cc6ce0\",\"_type\":\"span\",\"marks\":[],\"text\":\"The key insight here was finding a way for agents to quickly understand the state of work when starting with a fresh context window, which is accomplished with the claude-progress.txt file alongside the git history. Inspiration for these practices came from knowing what effective software engineers do every day.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"cae431443b3b\",\"_type\":\"block\",\"children\":[{\"_key\":\"43460be35a050\",\"_type\":\"span\",\"marks\":[],\"text\":\"Environment management \"}],\"markDefs\":[],\"style\":\"h3\"},{\"_key\":\"d58f7c96ce25\",\"_type\":\"block\",\"children\":[{\"_key\":\"d6b05dc06d510\",\"_type\":\"span\",\"marks\":[],\"text\":\"In the updated \"},{\"_key\":\"d6b05dc06d511\",\"_type\":\"span\",\"marks\":[\"65690fdb066e\"],\"text\":\"Claude 4 prompting guide\"},{\"_key\":\"d6b05dc06d512\",\"_type\":\"span\",\"marks\":[],\"text\":\", we shared some best practices for multi-context window workflows, including a harness structure that uses “a different prompt for the very first context window.” This “different prompt” requests that the initializer agent set up the environment with all the necessary context that future coding agents will need to work effectively. Here, we provide a deeper dive on some of the key components of such an environment.\"}],\"markDefs\":[{\"_key\":\"65690fdb066e\",\"_type\":\"link\",\"href\":\"https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/claude-4-best-practices#multi-context-window-workflows\"}],\"style\":\"normal\"},{\"_key\":\"04a3e38762d8\",\"_type\":\"block\",\"children\":[{\"_key\":\"dce3e353fca2\",\"_type\":\"span\",\"marks\":[],\"text\":\"Feature list\"}],\"markDefs\":[],\"style\":\"h4\"},{\"_key\":\"774efc5fccb1\",\"_type\":\"block\",\"children\":[{\"_key\":\"08a55e400dac0\",\"_type\":\"span\",\"marks\":[],\"text\":\"To address the problem of the agent one-shotting an app or prematurely considering the project complete, we prompted the initializer agent to write a comprehensive file of feature requirements expanding on the user’s initial prompt. In the \"},{\"_key\":\"788e1dbe8d92\",\"_type\":\"span\",\"marks\":[\"c3d5c1ff97e1\"],\"text\":\"claude.ai\"},{\"_key\":\"8454e4c38435\",\"_type\":\"span\",\"marks\":[],\"text\":\" clone example, this meant over 200 features, such as “a user can open a new chat, type in a query, press enter, and see an AI response.” These features were all initially marked as “failing” so that later coding agents would have a clear outline of what full functionality looked like.\"}],\"markDefs\":[{\"_key\":\"c3d5c1ff97e1\",\"_type\":\"link\",\"href\":\"http://claude.ai\"}],\"style\":\"normal\"},{\"_key\":\"2cfbd9a7f5bd\",\"_type\":\"block\",\"children\":[{\"_key\":\"8985ab86c04a\",\"_type\":\"span\",\"marks\":[],\"text\":\"\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"fc0aeae146b9\",\"_type\":\"codeBlock\",\"code\":\"{\\n    \\\"category\\\": \\\"functional\\\",\\n    \\\"description\\\": \\\"New chat button creates a fresh conversation\\\",\\n    \\\"steps\\\": [\\n      \\\"Navigate to main interface\\\",\\n      \\\"Click the 'New Chat' button\\\",\\n      \\\"Verify a new conversation is created\\\",\\n      \\\"Check that chat area shows welcome state\\\",\\n      \\\"Verify conversation appears in sidebar\\\"\\n    ],\\n    \\\"passes\\\": false\\n  }\\n\",\"markDefs\":null},{\"_key\":\"23fe41e09690\",\"_type\":\"block\",\"children\":[{\"_key\":\"99066e8166f20\",\"_type\":\"span\",\"marks\":[],\"text\":\"We prompt coding agents to edit this file only by changing the status of a passes field, and we use strongly-worded instructions like “It is unacceptable to remove or edit tests because this could lead to missing or buggy functionality.” After some experimentation, we landed on using JSON for this, as the model is less likely to inappropriately change or overwrite JSON files compared to Markdown files.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"95ce7e0f3b18\",\"_type\":\"block\",\"children\":[{\"_key\":\"ef0edc0b82e10\",\"_type\":\"span\",\"marks\":[],\"text\":\"Incremental progress\"}],\"markDefs\":[],\"style\":\"h4\"},{\"_key\":\"b5696ed97d19\",\"_type\":\"block\",\"children\":[{\"_key\":\"66fd344acb350\",\"_type\":\"span\",\"marks\":[],\"text\":\"Given this initial environment scaffolding, the next iteration of the coding agent was then asked to work on only one feature at a time. This incremental approach turned out to be critical to addressing the agent’s tendency to do too much at once.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"76d1492a7306\",\"_type\":\"block\",\"children\":[{\"_key\":\"510b3991d9b90\",\"_type\":\"span\",\"marks\":[],\"text\":\"Once working incrementally, it’s still essential that the model leaves the environment in a clean state after making a code change. In our experiments, we found that the best way to elicit this behavior was to ask the model to commit its progress to git with descriptive commit messages and to write summaries of its progress in a progress file. This allowed the model to use git to revert bad code changes and recover working states of the code base.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"32074ec086d8\",\"_type\":\"block\",\"children\":[{\"_key\":\"d3e51cd0be2b0\",\"_type\":\"span\",\"marks\":[],\"text\":\"These approaches also increased efficiency, as they eliminated the need for an agent to have to guess at what had happened and spend its time trying to get the basic app working again.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"8d22b9cfdfc3\",\"_type\":\"block\",\"children\":[{\"_key\":\"e9336176425d0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Testing\"}],\"markDefs\":[],\"style\":\"h4\"},{\"_key\":\"4926d5701b6b\",\"_type\":\"block\",\"children\":[{\"_key\":\"541cf2ce26360\",\"_type\":\"span\",\"marks\":[],\"text\":\"One final major failure mode that we observed was Claude’s tendency to mark a feature as complete without proper testing. Absent explicit prompting, Claude tended to make code changes, and even do testing with unit tests or \"},{\"_key\":\"9ebae06c9a40\",\"_type\":\"span\",\"marks\":[\"code\"],\"text\":\"curl\"},{\"_key\":\"adce5adf87ca\",\"_type\":\"span\",\"marks\":[],\"text\":\" commands against a development server, but would fail recognize that the feature didn’t work end-to-end.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"97fca18d1d5c\",\"_type\":\"block\",\"children\":[{\"_key\":\"17313fdfb6f80\",\"_type\":\"span\",\"marks\":[],\"text\":\"In the case of building a web app, Claude mostly did well at verifying features end-to-end once explicitly prompted to use browser automation tools and do all testing as a human user would. \"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"8a545a556e5a\",\"_type\":\"image\",\"asset\":{\"_ref\":\"image-f94c2257964fb2d623f1e81f874977ebfc0986bc-1920x1080-gif\",\"_type\":\"reference\"},\"caption\":[{\"_key\":\"ec90c8345d05\",\"_type\":\"block\",\"children\":[{\"_key\":\"22fb7025fb7e0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Screenshots taken by Claude through the Puppeteer MCP server as it tested the claude.ai clone. \"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"5972c5d31fa6\",\"_type\":\"block\",\"children\":[{\"_key\":\"564f3d305d670\",\"_type\":\"span\",\"marks\":[],\"text\":\"\\n\"}],\"markDefs\":[],\"style\":\"normal\"}],\"columnWidth\":\"inline-width\",\"description\":\" Screenshots taken by Claude through the Puppeteer MCP server as it tested the claude.ai clone. \",\"height\":1080,\"markDefs\":null,\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/f94c2257964fb2d623f1e81f874977ebfc0986bc-1920x1080.gif\",\"width\":1920},{\"_key\":\"a645ce87d38f\",\"_type\":\"block\",\"children\":[{\"_key\":\"adaa6355f0490\",\"_type\":\"span\",\"marks\":[],\"text\":\"Providing Claude with these kinds of testing tools dramatically improved performance, as the agent was able to identify and fix bugs that weren’t obvious from the code alone.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"daa64432c320\",\"_type\":\"block\",\"children\":[{\"_key\":\"9dbd1b320b090\",\"_type\":\"span\",\"marks\":[],\"text\":\"Some issues remain, like limitations to Claude’s vision and to browser automation tools making it difficult to identify every kind of bug. For example, Claude can’t see browser-native alert modals through the Puppeteer MCP, and features relying on these modals tended to be buggier as a result.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"a02030f65e45\",\"_type\":\"block\",\"children\":[{\"_key\":\"b6d214bfa9510\",\"_type\":\"span\",\"marks\":[],\"text\":\"Getting up to speed\"}],\"markDefs\":[],\"style\":\"h3\"},{\"_key\":\"130a4a09ae5d\",\"_type\":\"block\",\"children\":[{\"_key\":\"3ff09f7ea1be0\",\"_type\":\"span\",\"marks\":[],\"text\":\"With all of the above in place, every coding agent is prompted to run through a series of steps to get its bearings, some quite basic but still helpful:\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"7fdcf6be96ab\",\"_type\":\"block\",\"children\":[{\"_key\":\"1d80b55f26b80\",\"_type\":\"span\",\"marks\":[\"em\"],\"text\":\"Run \"},{\"_key\":\"b7f6f1197941\",\"_type\":\"span\",\"marks\":[\"code\",\"em\"],\"text\":\"pwd\"},{\"_key\":\"525dc8fafb8f\",\"_type\":\"span\",\"marks\":[\"em\"],\"text\":\" to see the directory you’re working in. You’ll only be able to edit files in this directory.\"}],\"level\":1,\"listItem\":\"number\",\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"51617fb33c50\",\"_type\":\"block\",\"children\":[{\"_key\":\"261df6c32cc20\",\"_type\":\"span\",\"marks\":[\"em\"],\"text\":\"Read the git logs and progress files to get up to speed on what was recently worked on.\"}],\"level\":1,\"listItem\":\"number\",\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"f946654825e0\",\"_type\":\"block\",\"children\":[{\"_key\":\"55960e64b8790\",\"_type\":\"span\",\"marks\":[\"em\"],\"text\":\"Read the features list file and choose the highest-priority feature that’s not yet done to work on.\"}],\"level\":1,\"listItem\":\"number\",\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"7a95df211ccf\",\"_type\":\"block\",\"children\":[{\"_key\":\"1eb62234f83b0\",\"_type\":\"span\",\"marks\":[],\"text\":\"This approach saves Claude some tokens in every session since it doesn’t have to figure out how to test the code. It also helps to ask the initializer agent to write an init.sh script that can run the development server, and then run through a basic end-to-end test before implementing a new feature.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"4907df11bca4\",\"_type\":\"block\",\"children\":[{\"_key\":\"ecbbc7dbedc10\",\"_type\":\"span\",\"marks\":[],\"text\":\"In the case of the claude.ai clone, this meant that the agent always started the local development server and used the Puppeteer MCP to start a new chat, send a message, and receive a response. This ensured that Claude could quickly identify if the app had been left in a broken state, and immediately fix any existing bugs. If the agent had instead started implementing a new feature, it would likely make the problem worse.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"b1cc02a14465\",\"_type\":\"block\",\"children\":[{\"_key\":\"e7066be0101e0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Given all this, a typical session starts off with the following assistant messages:\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"3cf1ab0c7e24\",\"_type\":\"codeBlock\",\"code\":\"[Assistant] I'll start by getting my bearings and understanding the current state of the project.\\n[Tool Use] \u003cbash - pwd\u003e\\n[Tool Use] \u003cread - claude-progress.txt\u003e\\n[Tool Use] \u003cread - feature_list.json\u003e\\n[Assistant] Let me check the git log to see recent work.\\n[Tool Use] \u003cbash - git log --oneline -20\u003e\\n[Assistant] Now let me check if there's an init.sh script to restart the servers.\\n\u003cStarts the development server\u003e\\n[Assistant] Excellent! Now let me navigate to the application and verify that some fundamental features are still working.\\n\u003cTests basic functionality\u003e\\n[Assistant] Based on my verification testing, I can see that the fundamental functionality is working well. The core chat features, theme switching, conversation loading, and error handling are all functioning correctly. Now let me review the tests.json file more comprehensively to understand what needs to be implemented next.\\n\u003cStarts work on a new feature\u003e\",\"markDefs\":null},{\"_key\":\"8c6b5b07b78a\",\"_type\":\"table\",\"caption\":\"Summarizing four common failure modes and solutions in long-running AI agents.\",\"cta\":null,\"layout\":{\"direction\":\"horizontal\",\"fixedFirstColumn\":true},\"markDefs\":null,\"rows\":[{\"_key\":\"e1cd2f7c1e13\",\"_type\":\"tableRow\",\"cells\":[{\"_key\":\"c76ebb2141c8\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"4f80d7ad2cb1\",\"_type\":\"block\",\"children\":[{\"_key\":\"047339f5117a\",\"_type\":\"span\",\"marks\":[\"strong\"],\"text\":\"Problem\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"13b689e650ed\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"476a27f1666b\",\"_type\":\"block\",\"children\":[{\"_key\":\"fb3a2102e58b\",\"_type\":\"span\",\"marks\":[\"strong\"],\"text\":\"Initializer Agent Behavior \"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"609a6edcf896\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"50ccc301658d\",\"_type\":\"block\",\"children\":[{\"_key\":\"0fb25bab4b8f0\",\"_type\":\"span\",\"marks\":[\"strong\"],\"text\":\"Coding Agent Behavior\"}],\"markDefs\":[],\"style\":\"normal\"}]}],\"isHeaderRow\":true},{\"_key\":\"51d4bf9c3bfa\",\"_type\":\"tableRow\",\"cells\":[{\"_key\":\"9e4d6a08a88a\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"9ab78d3ea7f7\",\"_type\":\"block\",\"children\":[{\"_key\":\"80b8499105b50\",\"_type\":\"span\",\"marks\":[],\"text\":\"Claude declares victory on the entire project too early.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"e2ac3b826369\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"72d2ccf50610\",\"_type\":\"block\",\"children\":[{\"_key\":\"ca4ef17827a50\",\"_type\":\"span\",\"marks\":[],\"text\":\"Set up a feature list file: based on the input spec, set up a structured JSON file with a list of end-to-end feature descriptions.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"c802a4035614\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"758316cf572a\",\"_type\":\"block\",\"children\":[{\"_key\":\"cf104b51183d0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Read the feature list file at the beginning of a session. Choose a single feature to start working on.\"}],\"markDefs\":[],\"style\":\"normal\"}]}],\"isHeaderRow\":false},{\"_key\":\"8ae07204f70e\",\"_type\":\"tableRow\",\"cells\":[{\"_key\":\"d2d77a6fb9bb\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"e4932dd49528\",\"_type\":\"block\",\"children\":[{\"_key\":\"553b88cdfbab0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Claude leaves the environment in a state with bugs or undocumented progress.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"2b43d2946736\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"1bdf5f49166e\",\"_type\":\"block\",\"children\":[{\"_key\":\"d9f8be5cbeb80\",\"_type\":\"span\",\"marks\":[],\"text\":\"An initial git repo and progress notes file is written.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"e608e4220790\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"b64a2442b7bc\",\"_type\":\"block\",\"children\":[{\"_key\":\"cb207e1f3dc10\",\"_type\":\"span\",\"marks\":[],\"text\":\"Start the session by reading the progress notes file and git commit logs, and run a basic test on the development server to catch any undocumented bugs. End the session by writing a git commit and progress update.\"}],\"markDefs\":[],\"style\":\"normal\"}]}],\"isHeaderRow\":false},{\"_key\":\"6e38856363d5\",\"_type\":\"tableRow\",\"cells\":[{\"_key\":\"07649fb90c63\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"9a704636b8a1\",\"_type\":\"block\",\"children\":[{\"_key\":\"db76707725c30\",\"_type\":\"span\",\"marks\":[],\"text\":\"Claude marks features as done prematurely.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"7f8a15b24b06\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"50b5095c4573\",\"_type\":\"block\",\"children\":[{\"_key\":\"d9fd2f27aeaa0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Set up a feature list file.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"32fd610325ed\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"3fde93ac0605\",\"_type\":\"block\",\"children\":[{\"_key\":\"39ccf211b0e20\",\"_type\":\"span\",\"marks\":[],\"text\":\"Self-verify all features. Only mark features as “passing” after careful testing.\"}],\"markDefs\":[],\"style\":\"normal\"}]}],\"isHeaderRow\":false},{\"_key\":\"cb9dd160bb67\",\"_type\":\"tableRow\",\"cells\":[{\"_key\":\"8c37877ca819\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"0d09a7df534f\",\"_type\":\"block\",\"children\":[{\"_key\":\"9ce6784f8f270\",\"_type\":\"span\",\"marks\":[],\"text\":\"Claude has to spend time figuring out how to run the app.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"80a372173064\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"172a619da2af\",\"_type\":\"block\",\"children\":[{\"_key\":\"6375b4f8841e0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Write an \"},{\"_key\":\"02563b787946\",\"_type\":\"span\",\"marks\":[\"code\"],\"text\":\"init.sh\"},{\"_key\":\"a589cc82fd5a\",\"_type\":\"span\",\"marks\":[],\"text\":\" script that can run the development server.\"}],\"markDefs\":[],\"style\":\"normal\"}]},{\"_key\":\"156b9354a9ff\",\"_type\":\"tableCell\",\"content\":[{\"_key\":\"564b2f77af60\",\"_type\":\"block\",\"children\":[{\"_key\":\"1f01fe36c16e0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Start the session by reading \"},{\"_key\":\"4d5128c54140\",\"_type\":\"span\",\"marks\":[\"code\"],\"text\":\"init.sh\"},{\"_key\":\"b70dd86c1458\",\"_type\":\"span\",\"marks\":[],\"text\":\".\"}],\"markDefs\":[],\"style\":\"normal\"}]}],\"isHeaderRow\":false}],\"title\":\"Agent failure modes and solutions \"},{\"_key\":\"0ceec2c712e1\",\"_type\":\"block\",\"children\":[{\"_key\":\"d395baa712ec0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Future work\"}],\"markDefs\":[],\"style\":\"h3\"},{\"_key\":\"84c06750f9ef\",\"_type\":\"block\",\"children\":[{\"_key\":\"2a2b8673aa220\",\"_type\":\"span\",\"marks\":[],\"text\":\"This research demonstrates one possible set of solutions in a long-running agent harness to enable the model to make incremental progress across many context windows. However, there remain open questions.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"fa1277cdde2d\",\"_type\":\"block\",\"children\":[{\"_key\":\"fd5055090da70\",\"_type\":\"span\",\"marks\":[],\"text\":\"Most notably, it’s still unclear whether a single, general-purpose coding agent performs best across contexts, or if better performance can be achieved through a multi-agent architecture. It seems reasonable that specialized agents like a testing agent, a quality assurance agent, or a code cleanup agent, could do an even better job at sub-tasks across the software development lifecycle.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"a4dc3f01766f\",\"_type\":\"block\",\"children\":[{\"_key\":\"053fce51c3e40\",\"_type\":\"span\",\"marks\":[],\"text\":\"Additionally, this demo is optimized for full-stack web app development. A future direction is to generalize these findings to other fields. It’s likely that some or all of these lessons can be applied to the types of long-running agentic tasks required in, for example, scientific research or financial modeling.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"7799023f1c8e\",\"_type\":\"block\",\"children\":[{\"_key\":\"d53500134b43\",\"_type\":\"span\",\"marks\":[],\"text\":\"\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"eeeb3ee7ffab\",\"_type\":\"block\",\"children\":[{\"_key\":\"990bc902da5a\",\"_type\":\"span\",\"marks\":[],\"text\":\"\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"71d2534916ce\",\"_type\":\"block\",\"children\":[{\"_key\":\"ab89b8c6064c\",\"_type\":\"span\",\"marks\":[],\"text\":\"\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"68cc6d641d14\",\"_type\":\"block\",\"children\":[{\"_key\":\"f415230a1bdc\",\"_type\":\"span\",\"marks\":[],\"text\":\"Acknowledgements\"}],\"markDefs\":[],\"style\":\"h4\"},{\"_key\":\"12375a78406f\",\"_type\":\"block\",\"children\":[{\"_key\":\"4dc68effb9ba0\",\"_type\":\"span\",\"marks\":[],\"text\":\"Written by Justin Young. Special thanks to David Hershey, Prithvi Rajasakeran, Jeremy Hadfield, Naia Bouscal, Michael Tingley, Jesse Mu, Jake Eaton, Marius Buleandara, Maggie Vo, Pedram Navid, Nadine Yasser, and Alex Notov for their contributions.\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"5e9559393cd0\",\"_type\":\"block\",\"children\":[{\"_key\":\"5a32c9e142120\",\"_type\":\"span\",\"marks\":[],\"text\":\"This work reflects the collective efforts of several teams across Anthropic who made it possible for Claude to safely do long-horizon autonomous software engineering, especially the code RL \u0026 Claude Code teams. Interested candidates who would like to contribute are welcome to apply at \"},{\"_key\":\"5a32c9e142121\",\"_type\":\"span\",\"marks\":[\"a6e276efb240\"],\"text\":\"anthropic.com/careers\"},{\"_key\":\"5a32c9e142122\",\"_type\":\"span\",\"marks\":[],\"text\":\".\"}],\"markDefs\":[{\"_key\":\"a6e276efb240\",\"_type\":\"link\",\"href\":\"http://anthropic.com/careers\"}],\"style\":\"normal\"},{\"_key\":\"394310dafd60\",\"_type\":\"block\",\"children\":[{\"_key\":\"e0880fcf7df6\",\"_type\":\"span\",\"marks\":[],\"text\":\"\"}],\"markDefs\":[],\"style\":\"normal\"},{\"_key\":\"9277c6e14ee0\",\"_type\":\"block\",\"children\":[{\"_key\":\"f1024c965b410\",\"_type\":\"span\",\"marks\":[],\"text\":\"Footnotes\"}],\"markDefs\":[],\"style\":\"h4\"},{\"_key\":\"5edbb1603579\",\"_type\":\"block\",\"children\":[{\"_key\":\"1716075f6f54\",\"_type\":\"span\",\"marks\":[],\"text\":\"1. We refer to these as separate agents in this context only because they have different initial user prompts. The system prompt, set of tools, and overall agent harness was otherwise identical.\"}],\"markDefs\":[],\"style\":\"footnote\"}],\"cardImage\":{\"_type\":\"image\",\"asset\":{\"_ref\":\"image-5dfb835ad3cbbf76b85824e969146eac20329e72-1000x1000-svg\",\"_type\":\"reference\"},\"height\":1000,\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/5dfb835ad3cbbf76b85824e969146eac20329e72-1000x1000.svg\",\"width\":1000},\"hero\":{\"_type\":\"image\",\"asset\":{\"_ref\":\"image-5dfb835ad3cbbf76b85824e969146eac20329e72-1000x1000-svg\",\"_type\":\"reference\"},\"caption\":null,\"height\":1000,\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/5dfb835ad3cbbf76b85824e969146eac20329e72-1000x1000.svg\",\"width\":1000},\"meta\":{\"robotsIndexable\":true,\"socialImage\":{\"_type\":\"image\",\"asset\":{\"_createdAt\":\"2025-11-21T17:39:46Z\",\"_id\":\"image-32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260-png\",\"_rev\":\"eWLIqdlh0nWvJOX2EHo0WT\",\"_type\":\"sanity.imageAsset\",\"_updatedAt\":\"2025-11-21T17:39:46Z\",\"assetId\":\"32ea71b3e8e87a990f6df4c4def2b9e52815e977\",\"extension\":\"png\",\"metadata\":{\"_type\":\"sanity.imageMetadata\",\"blurHash\":\"MNQchtof~qxu9Gt7ayofofay?bofD%Rj%M\",\"dimensions\":{\"_type\":\"sanity.imageDimensions\",\"aspectRatio\":1.9047619047619047,\"height\":1260,\"width\":2400},\"hasAlpha\":true,\"isOpaque\":true,\"lqip\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVR4nJWT20oCURSGfdnASDtdBZFGaRQipdWYmqhNKqEdkKkunCulyAlTMR01HU2d8dAc7An+aKAgaIR98cHerMXHOrBMU1WCEZ/aN8M/zMqfqhJMRgF50ofYf8PgvYmh2NbfnXYVvW4d8qRHLuSrL0jEIjg/C4HNMLi7vQZ1fIB4LIxWs0IuzGVZLC8tYN48Bx/lgd/nxaLFDOe2DZUyZ9i+yUj4zOXg2LJhdcWKQ68byQsacTqIeyaFrlAjq1BTRNReCwgFKWza1+F27eDmKoH8Iwu+wmEsCeQt12tF0NFTOB12uPacCJx44dnfBR0NoMEXCYWKqA+eSV8iEvbriwn6j2C1mGHfWEOx8EBe4UgS0OBLKJfy+hK4pyxSyRiYdApCq0ou1BQJqjz4RfnoYzzsYDLq6n9i4b/8XMuMi/kCZC4Pi/GdzosAAAAASUVORK5CYII=\",\"palette\":{\"_type\":\"sanity.imagePalette\",\"darkMuted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#44443c\",\"foreground\":\"#fff\",\"population\":0.08,\"title\":\"#fff\"},\"darkVibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#733f11\",\"foreground\":\"#fff\",\"population\":0,\"title\":\"#fff\"},\"dominant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#fcf3eb\",\"foreground\":\"#000\",\"population\":0.21,\"title\":\"#000\"},\"lightMuted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#ded4c4\",\"foreground\":\"#000\",\"population\":0.04,\"title\":\"#000\"},\"lightVibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#fcf3eb\",\"foreground\":\"#000\",\"population\":0.21,\"title\":\"#000\"},\"muted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#7c7c74\",\"foreground\":\"#fff\",\"population\":0.05,\"title\":\"#fff\"},\"vibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#dd7921\",\"foreground\":\"#fff\",\"population\":0,\"title\":\"#fff\"}}},\"mimeType\":\"image/png\",\"originalFilename\":\"eng-blog-social.png\",\"path\":\"images/4zrzovbb/website/32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260.png\",\"sha1hash\":\"32ea71b3e8e87a990f6df4c4def2b9e52815e977\",\"size\":72142,\"uploadId\":\"U2Y0bHLAL8u9K3ln0bO8lobUDnHkRqVk\",\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260.png\"}}},\"publishedOn\":\"2025-11-26\",\"showSidebar\":false,\"slug\":{\"_type\":\"slug\",\"current\":\"effective-harnesses-for-long-running-agents\"},\"spotIllustration\":{\"_type\":\"image\",\"asset\":{\"_ref\":\"image-c041b5e0498972014414a7c3d044727982f26bde-500x500-svg\",\"_type\":\"reference\"},\"height\":500,\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/c041b5e0498972014414a7c3d044727982f26bde-500x500.svg\",\"width\":500},\"subjects\":[{\"_key\":\"developer-tools\",\"_type\":\"tag\",\"label\":\"Developer Tools\",\"value\":\"developer-tools\"}],\"summary\":\"Agents still face challenges working across many context windows. We looked to human engineers for inspiration in creating a more effective harness for long-running agents.\",\"title\":\"Effective harnesses for long-running agents\"},\"siteSettings\":{\"_createdAt\":\"2023-11-03T16:49:36Z\",\"_id\":\"13c6e1a1-6f38-400c-ae18-89d73b6ba991\",\"_rev\":\"lRptwNvJCBglHQHh4Ck6pu\",\"_system\":{\"base\":{\"id\":\"13c6e1a1-6f38-400c-ae18-89d73b6ba991\",\"rev\":\"g6Sjq5R0MIVIB6yTMaXwdd\"}},\"_type\":\"siteSettings\",\"_updatedAt\":\"2025-11-20T20:32:17Z\",\"announcement\":null,\"claudeCta\":{\"desktopCtas\":null,\"mobileCtas\":[{\"title\":\"Log in to Claude\",\"url\":\"https://claude.ai/login\"},{\"title\":\"Download app\",\"url\":\"https://claude.ai/download\"}],\"sections\":[{\"category\":\"Products\",\"links\":[{\"title\":\"Claude\",\"url\":\"https://claude.com/product/overview\"},{\"title\":\"Claude Code\",\"url\":\"https://claude.com/product/claude-code\"},{\"title\":\"Claude Developer Platform\",\"url\":\"https://claude.com/platform/api\"},{\"title\":\"Pricing\",\"url\":\"https://claude.com/pricing\"},{\"title\":\"Contact sales\",\"url\":\"https://claude.com/contact-sales\"}]},{\"category\":\"Models\",\"links\":[{\"title\":\"Opus\",\"url\":\"/claude/opus\"},{\"title\":\"Sonnet\",\"url\":\"/claude/sonnet\"},{\"title\":\"Haiku\",\"url\":\"/claude/haiku\"}]},{\"category\":\"Log in\",\"links\":[{\"title\":\"Claude.ai\",\"url\":\"https://claude.ai\"},{\"title\":\"Claude Console\",\"url\":\"https://console.claude.com\"}]}],\"title\":\"Try Claude\",\"url\":\"https://claude.ai/\"},\"copyright\":\"© 2025 Anthropic PBC\",\"footerNavigation\":[{\"_key\":\"716b96b62292\",\"links\":[{\"title\":\"Claude\",\"url\":\"https://claude.com/product/overview\"},{\"title\":\"Claude Code\",\"url\":\"https://claude.com/product/claude-code\"},{\"title\":\"Claude and Slack\",\"url\":\"https://claude.com/claude-and-slack\"},{\"title\":\"Claude in Excel\",\"url\":\"https://claude.com/claude-for-excel\"},{\"title\":\"Max plan\",\"url\":\"https://claude.com/pricing/max\"},{\"title\":\"Team plan\",\"url\":\"https://claude.com/pricing/team\"},{\"title\":\"Enterprise plan\",\"url\":\"https://claude.com/pricing/enterprise\"},{\"title\":\"Download app\",\"url\":\"https://claude.ai/download\"},{\"title\":\"Pricing\",\"url\":\"https://claude.com/pricing\"},{\"title\":\"Log in to Claude\",\"url\":\"https://claude.ai/\"}],\"title\":\"Products\"},{\"_key\":\"0229138ff25d\",\"links\":[{\"title\":\"Opus\",\"url\":\"https://www.anthropic.com/claude/opus\"},{\"title\":\"Sonnet\",\"url\":\"https://www.anthropic.com/claude/sonnet\"},{\"title\":\"Haiku\",\"url\":\"https://www.anthropic.com/claude/haiku\"}],\"title\":\"Models\"},{\"_key\":\"df2df9219e3abce95d6d83387e2d9bd6\",\"links\":[{\"title\":\"AI agents\",\"url\":\"https://claude.com/solutions/agents\"},{\"title\":\"Code modernization\",\"url\":\"https://claude.com/solutions/code-modernization\"},{\"title\":\"Coding\",\"url\":\"https://claude.com/solutions/coding\"},{\"title\":\"Customer support\",\"url\":\"https://claude.com/solutions/customer-support\"},{\"title\":\"Education\",\"url\":\"https://claude.com/solutions/education\"},{\"title\":\"Financial services\",\"url\":\"https://claude.com/solutions/financial-services\"},{\"title\":\"Government\",\"url\":\"https://claude.com/solutions/government\"},{\"title\":\"Life sciences\",\"url\":\"https://claude.com/solutions/life-sciences\"}],\"title\":\"Solutions\"},{\"_key\":\"f286ca01fc7aaabd131f347b711a971b\",\"links\":[{\"title\":\"Overview\",\"url\":\"https://claude.com/platform/api\"},{\"title\":\"Developer docs\",\"url\":\"https://platform.claude.com/docs\"},{\"title\":\"Pricing\",\"url\":\"https://claude.com/pricing#api\"},{\"title\":\"Amazon Bedrock\",\"url\":\"https://claude.com/partners/amazon-bedrock\"},{\"title\":\"Google Cloud’s Vertex AI\",\"url\":\"https://claude.com/partners/google-cloud-vertex-ai\"},{\"title\":\"Console login\",\"url\":\"http://console.anthropic.com/\"}],\"title\":\"Claude Developer Platform\"},{\"_key\":\"4b255e67f68c270e0072c7564e084e24\",\"links\":[{\"title\":\"Blog\",\"url\":\"https://claude.com/blog\"},{\"title\":\"Courses\",\"url\":\"/learn\"},{\"title\":\"Use cases\",\"url\":\"https://claude.com/resources/use-cases\"},{\"title\":\"Connectors\",\"url\":\"https://claude.com/partners/mcp\"},{\"title\":\"Customer stories\",\"url\":\"https://claude.com/customers\"},{\"title\":\"Engineering at Anthropic\",\"url\":\"/engineering\"},{\"title\":\"Events\",\"url\":\"/events\"},{\"title\":\"Powered by Claude\",\"url\":\"https://claude.com/partners/powered-by-claude\"},{\"title\":\"Service partners\",\"url\":\"https://claude.com/partners/services\"},{\"title\":\"Startups program\",\"url\":\"https://claude.com/programs/startups\"}],\"title\":\"Learn\"},{\"_key\":\"4f2729951e15b0b870897e0444f5f3e1\",\"links\":[{\"title\":\"Anthropic\",\"url\":\"/company\"},{\"title\":\"Careers\",\"url\":\"/careers\"},{\"title\":\"Economic Futures\",\"url\":\"/economic-index\"},{\"title\":\"Research\",\"url\":\"/research\"},{\"title\":\"News\",\"url\":\"/news\"},{\"title\":\"Responsible Scaling Policy\",\"url\":\"https://www.anthropic.com/news/announcing-our-updated-responsible-scaling-policy\"},{\"title\":\"Security and compliance\",\"url\":\"https://trust.anthropic.com/\"},{\"title\":\"Transparency\",\"url\":\"/transparency\"}],\"title\":\"Company\"},{\"_key\":\"a886dd1838335844d635f2857b25d66a\",\"links\":[{\"title\":\"Availability\",\"url\":\"https://www.anthropic.com/supported-countries\"},{\"title\":\"Status\",\"url\":\"https://status.anthropic.com/\"},{\"title\":\"Support center\",\"url\":\"https://support.claude.com/en/\"}],\"title\":\"Help and security\"},{\"_key\":\"3c3b033c11fa832a35d43b87d55a5364\",\"links\":[{\"title\":\"Privacy choices\",\"url\":\"#\"},{\"title\":\"Privacy policy\",\"url\":\"https://www.anthropic.com/legal/privacy\"},{\"title\":\"Responsible disclosure policy\",\"url\":\"https://www.anthropic.com/responsible-disclosure-policy\"},{\"title\":\"Terms of service: Commercial\",\"url\":\"https://www.anthropic.com/legal/commercial-terms\"},{\"title\":\"Terms of service: Consumer\",\"url\":\"https://www.anthropic.com/legal/consumer-terms\"},{\"title\":\"Usage policy\",\"url\":\"https://www.anthropic.com/legal/aup\"}],\"title\":\"Terms and policies\"}],\"headerNavigation\":[{\"_key\":\"a340f9d4b859\",\"category\":\"Research\",\"displayType\":\"singleLink\",\"sections\":null,\"url\":\"/research\"},{\"_key\":\"a483c7dfd38a\",\"category\":\"Economic Futures\",\"displayType\":\"singleLink\",\"sections\":null,\"url\":\"/economic-futures\"},{\"_key\":\"82c471bd311d\",\"category\":\"Commitments\",\"displayType\":\"sections\",\"sections\":[{\"_key\":\"675871636e4d\",\"links\":[{\"title\":\" Transparency\",\"url\":\"/transparency\"},{\"title\":\"Responsible Scaling Policy\",\"url\":\"/news/announcing-our-updated-responsible-scaling-policy\"}],\"title\":\"Initiatives\"},{\"_key\":\"16af50a6e2dd\",\"links\":[{\"title\":\"Security and compliance\",\"url\":\"https://trust.anthropic.com/\"}],\"title\":\"Trust center\"}]},{\"_key\":\"861a11ed9931\",\"category\":\"Learn\",\"displayType\":\"sections\",\"sections\":[{\"_key\":\"9f9f720a8793\",\"links\":[{\"title\":\"Anthropic Academy\",\"url\":\"/learn\"},{\"title\":\"Use cases\",\"url\":\"https://claude.com/resources/use-cases\"},{\"title\":\"Engineering at Anthropic\",\"url\":\"/engineering\"},{\"title\":\"Developer docs\",\"url\":\"https://docs.claude.com\"}],\"title\":\"Learn\"},{\"_key\":\"6bd061c46b10\",\"links\":[{\"title\":\"About\",\"url\":\"/company\"},{\"title\":\"Careers\",\"url\":\"/careers\"},{\"title\":\"Events\",\"url\":\"/events\"}],\"title\":\"Company\"}]},{\"_key\":\"22e8d8d2923d\",\"category\":\"News\",\"displayType\":\"singleLink\",\"sections\":null,\"url\":\"/news\"}],\"internalName\":\"anthropic.com Site Settings\",\"linkedInUsername\":\"anthropicresearch\",\"meta\":{\"_createdAt\":\"2023-11-20T21:56:31Z\",\"_id\":\"0f6290ad-6d21-407d-8deb-ce02815d1383\",\"_rev\":\"NyW74GU9ZzyWgAYa8qUSlF\",\"_type\":\"metadata\",\"_updatedAt\":\"2023-11-20T23:54:09Z\",\"robotsIndexable\":true,\"seoDescription\":\"Anthropic is an AI safety and research company that's working to build reliable, interpretable, and steerable AI systems.\",\"seoTitle\":\"Anthropic\",\"socialImage\":{\"_type\":\"image\",\"asset\":{\"_createdAt\":\"2025-05-23T14:14:18Z\",\"_id\":\"image-c07f638082c569e8ce1e89ae95ee6f332a98ec08-2400x1260-jpg\",\"_rev\":\"v1N2wBpLqoO2Q3HXueYiJi\",\"_type\":\"sanity.imageAsset\",\"_updatedAt\":\"2025-05-23T14:14:18Z\",\"assetId\":\"c07f638082c569e8ce1e89ae95ee6f332a98ec08\",\"extension\":\"jpg\",\"metadata\":{\"_type\":\"sanity.imageMetadata\",\"blurHash\":\"MASPU,%M?b%Ms:-;j[j[j[fQ~qj[9FayWB\",\"dimensions\":{\"_type\":\"sanity.imageDimensions\",\"aspectRatio\":1.9047619047619047,\"height\":1260,\"width\":2400},\"hasAlpha\":false,\"isOpaque\":true,\"lqip\":\"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAKABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAQFCP/EACAQAAEEAgEFAAAAAAAAAAAAAAABAgMEBRETEhQhIjH/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDS96axCjO2r8yqvn21oiR3ci6TT8d0t395ELUGVAAB/9k=\",\"palette\":{\"_type\":\"sanity.imagePalette\",\"darkMuted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#444440\",\"foreground\":\"#fff\",\"population\":0.05,\"title\":\"#fff\"},\"darkVibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#68681c\",\"foreground\":\"#fff\",\"population\":0,\"title\":\"#fff\"},\"dominant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#fcfcf4\",\"foreground\":\"#000\",\"population\":90.85,\"title\":\"#000\"},\"lightMuted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#bcbcb4\",\"foreground\":\"#000\",\"population\":0.03,\"title\":\"#fff\"},\"lightVibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#fcfcf4\",\"foreground\":\"#000\",\"population\":90.85,\"title\":\"#000\"},\"muted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#7c7c74\",\"foreground\":\"#fff\",\"population\":0.02,\"title\":\"#fff\"},\"vibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#c8c836\",\"foreground\":\"#000\",\"population\":0,\"title\":\"#fff\"}}},\"mimeType\":\"image/jpeg\",\"originalFilename\":\"Anthropic-OG-image.jpg\",\"path\":\"images/4zrzovbb/website/c07f638082c569e8ce1e89ae95ee6f332a98ec08-2400x1260.jpg\",\"sha1hash\":\"c07f638082c569e8ce1e89ae95ee6f332a98ec08\",\"size\":132598,\"uploadId\":\"pxmJEaCvYm0cHoZTfnCcZYXxrWKBhHf0\",\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/c07f638082c569e8ce1e89ae95ee6f332a98ec08-2400x1260.jpg\"},\"description\":\"Anthropic logo\"}},\"siteName\":\"Anthropic\",\"sitemapUrls\":[\"/\",\"/careers\",\"/company\",\"/events\",\"/events/aws-summit-dc\",\"/events/aws-summit-nyc\",\"/events/aws-summit-london\",\"/events/aws-summit-tokyo\",\"/events/claude-for-finance\",\"/events/google-cloud-next-2025\",\"/events/paris-builder-summit\",\"/events/seoul-builder-summit\",\"/learn\",\"/supported-countries\",\"/unsubscribe\"],\"twitterUsername\":\"AnthropicAI\",\"youtubeUsername\":\"anthropic-ai\"}}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"content\":\"#141413\"}]]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"13:[\"$\",\"$L15\",null,{\"siteSettings\":{\"_createdAt\":\"2023-11-03T16:49:36Z\",\"_id\":\"13c6e1a1-6f38-400c-ae18-89d73b6ba991\",\"_rev\":\"lRptwNvJCBglHQHh4Ck6pu\",\"_system\":{\"base\":{\"id\":\"13c6e1a1-6f38-400c-ae18-89d73b6ba991\",\"rev\":\"g6Sjq5R0MIVIB6yTMaXwdd\"}},\"_type\":\"siteSettings\",\"_updatedAt\":\"2025-11-20T20:32:17Z\",\"announcement\":null,\"claudeCta\":{\"desktopCtas\":null,\"mobileCtas\":[{\"title\":\"Log in to Claude\",\"url\":\"https://claude.ai/login\"},{\"title\":\"Download app\",\"url\":\"https://claude.ai/download\"}],\"sections\":[{\"category\":\"Products\",\"links\":[{\"title\":\"Claude\",\"url\":\"https://claude.com/product/overview\"},{\"title\":\"Claude Code\",\"url\":\"https://claude.com/product/claude-code\"},{\"title\":\"Claude Developer Platform\",\"url\":\"https://claude.com/platform/api\"},{\"title\":\"Pricing\",\"url\":\"https://claude.com/pricing\"},{\"title\":\"Contact sales\",\"url\":\"https://claude.com/contact-sales\"}]},{\"category\":\"Models\",\"links\":[{\"title\":\"Opus\",\"url\":\"/claude/opus\"},{\"title\":\"Sonnet\",\"url\":\"/claude/sonnet\"},{\"title\":\"Haiku\",\"url\":\"/claude/haiku\"}]},{\"category\":\"Log in\",\"links\":[{\"title\":\"Claude.ai\",\"url\":\"https://claude.ai\"},{\"title\":\"Claude Console\",\"url\":\"https://console.claude.com\"}]}],\"title\":\"Try Claude\",\"url\":\"https://claude.ai/\"},\"copyright\":\"© 2025 Anthropic PBC\",\"footerNavigation\":[{\"_key\":\"716b96b62292\",\"links\":[{\"title\":\"Claude\",\"url\":\"https://claude.com/product/overview\"},{\"title\":\"Claude Code\",\"url\":\"https://claude.com/product/claude-code\"},{\"title\":\"Claude and Slack\",\"url\":\"https://claude.com/claude-and-slack\"},{\"title\":\"Claude in Excel\",\"url\":\"https://claude.com/claude-for-excel\"},{\"title\":\"Max plan\",\"url\":\"https://claude.com/pricing/max\"},{\"title\":\"Team plan\",\"url\":\"https://claude.com/pricing/team\"},{\"title\":\"Enterprise plan\",\"url\":\"https://claude.com/pricing/enterprise\"},{\"title\":\"Download app\",\"url\":\"https://claude.ai/download\"},{\"title\":\"Pricing\",\"url\":\"https://claude.com/pricing\"},{\"title\":\"Log in to Claude\",\"url\":\"https://claude.ai/\"}],\"title\":\"Products\"},{\"_key\":\"0229138ff25d\",\"links\":[{\"title\":\"Opus\",\"url\":\"https://www.anthropic.com/claude/opus\"},{\"title\":\"Sonnet\",\"url\":\"https://www.anthropic.com/claude/sonnet\"},{\"title\":\"Haiku\",\"url\":\"https://www.anthropic.com/claude/haiku\"}],\"title\":\"Models\"},{\"_key\":\"df2df9219e3abce95d6d83387e2d9bd6\",\"links\":[{\"title\":\"AI agents\",\"url\":\"https://claude.com/solutions/agents\"},{\"title\":\"Code modernization\",\"url\":\"https://claude.com/solutions/code-modernization\"},{\"title\":\"Coding\",\"url\":\"https://claude.com/solutions/coding\"},{\"title\":\"Customer support\",\"url\":\"https://claude.com/solutions/customer-support\"},{\"title\":\"Education\",\"url\":\"https://claude.com/solutions/education\"},{\"title\":\"Financial services\",\"url\":\"https://claude.com/solutions/financial-services\"},{\"title\":\"Government\",\"url\":\"https://claude.com/solutions/government\"},{\"title\":\"Life sciences\",\"url\":\"https://claude.com/solutions/life-sciences\"}],\"title\":\"Solutions\"},{\"_key\":\"f286ca01fc7aaabd131f347b711a971b\",\"links\":[{\"title\":\"Overview\",\"url\":\"https://claude.com/platform/api\"},{\"title\":\"Developer docs\",\"url\":\"https://platform.claude.com/docs\"},{\"title\":\"Pricing\",\"url\":\"https://claude.com/pricing#api\"},{\"title\":\"Amazon Bedrock\",\"url\":\"https://claude.com/partners/amazon-bedrock\"},{\"title\":\"Google Cloud’s Vertex AI\",\"url\":\"https://claude.com/partners/google-cloud-vertex-ai\"},{\"title\":\"Console login\",\"url\":\"http://console.anthropic.com/\"}],\"title\":\"Claude Developer Platform\"},{\"_key\":\"4b255e67f68c270e0072c7564e084e24\",\"links\":[{\"title\":\"Blog\",\"url\":\"https://claude.com/blog\"},{\"title\":\"Courses\",\"url\":\"/learn\"},{\"title\":\"Use cases\",\"url\":\"https://claude.com/resources/use-cases\"},{\"title\":\"Connectors\",\"url\":\"https://claude.com/partners/mcp\"},{\"title\":\"Customer stories\",\"url\":\"https://claude.com/customers\"},{\"title\":\"Engineering at Anthropic\",\"url\":\"/engineering\"},{\"title\":\"Events\",\"url\":\"/events\"},{\"title\":\"Powered by Claude\",\"url\":\"https://claude.com/partners/powered-by-claude\"},{\"title\":\"Service partners\",\"url\":\"https://claude.com/partners/services\"},{\"title\":\"Startups program\",\"url\":\"https://claude.com/programs/startups\"}],\"title\":\"Learn\"},{\"_key\":\"4f2729951e15b0b870897e0444f5f3e1\",\"links\":[{\"title\":\"Anthropic\",\"url\":\"/company\"},{\"title\":\"Careers\",\"url\":\"/careers\"},{\"title\":\"Economic Futures\",\"url\":\"/economic-index\"},{\"title\":\"Research\",\"url\":\"/research\"},{\"title\":\"News\",\"url\":\"/news\"},{\"title\":\"Responsible Scaling Policy\",\"url\":\"https://www.anthropic.com/news/announcing-our-updated-responsible-scaling-policy\"},{\"title\":\"Security and compliance\",\"url\":\"https://trust.anthropic.com/\"},{\"title\":\"Transparency\",\"url\":\"/transparency\"}],\"title\":\"Company\"},{\"_key\":\"a886dd1838335844d635f2857b25d66a\",\"links\":[{\"title\":\"Availability\",\"url\":\"https://www.anthropic.com/supported-countries\"},{\"title\":\"Status\",\"url\":\"https://status.anthropic.com/\"},{\"title\":\"Support center\",\"url\":\"https://support.claude.com/en/\"}],\"title\":\"Help and security\"},{\"_key\":\"3c3b033c11fa832a35d43b87d55a5364\",\"links\":[{\"title\":\"Privacy choices\",\"url\":\"#\"},{\"title\":\"Privacy policy\",\"url\":\"https://www.anthropic.com/legal/privacy\"},{\"title\":\"Responsible disclosure policy\",\"url\":\"https://www.anthropic.com/responsible-disclosure-policy\"},{\"title\":\"Terms of service: Commercial\",\"url\":\"https://www.anthropic.com/legal/commercial-terms\"},{\"title\":\"Terms of service: Consumer\",\"url\":\"https://www.anthropic.com/legal/consumer-terms\"},{\"title\":\"Usage policy\",\"url\":\"https://www.anthropic.com/legal/aup\"}],\"title\":\"Terms and policies\"}],\"headerNavigation\":[{\"_key\":\"a340f9d4b859\",\"category\":\"Research\",\"displayType\":\"singleLink\",\"sections\":null,\"url\":\"/research\"},{\"_key\":\"a483c7dfd38a\",\"category\":\"Economic Futures\",\"displayType\":\"singleLink\",\"sections\":null,\"url\":\"/economic-futures\"},{\"_key\":\"82c471bd311d\",\"category\":\"Commitments\",\"displayType\":\"sections\",\"sections\":[{\"_key\":\"675871636e4d\",\"links\":[{\"title\":\" Transparency\",\"url\":\"/transparency\"},{\"title\":\"Responsible Scaling Policy\",\"url\":\"/news/announcing-our-updated-responsible-scaling-policy\"}],\"title\":\"Initiatives\"},{\"_key\":\"16af50a6e2dd\",\"links\":[{\"title\":\"Security and compliance\",\"url\":\"https://trust.anthropic.com/\"}],\"title\":\"Trust center\"}]},{\"_key\":\"861a11ed9931\",\"category\":\"Learn\",\"displayType\":\"sections\",\"sections\":[{\"_key\":\"9f9f720a8793\",\"links\":[{\"title\":\"Anthropic Academy\",\"url\":\"/learn\"},{\"title\":\"Use cases\",\"url\":\"https://claude.com/resources/use-cases\"},{\"title\":\"Engineering at Anthropic\",\"url\":\"/engineering\"},{\"title\":\"Developer docs\",\"url\":\"https://docs.claude.com\"}],\"title\":\"Learn\"},{\"_key\":\"6bd061c46b10\",\"links\":[{\"title\":\"About\",\"url\":\"/company\"},{\"title\":\"Careers\",\"url\":\"/careers\"},{\"title\":\"Events\",\"url\":\"/events\"}],\"title\":\"Company\"}]},{\"_key\":\"22e8d8d2923d\",\"category\":\"News\",\"displayType\":\"singleLink\",\"sections\":null,\"url\":\"/news\"}],\"internalName\":\"anthropic.com Site Settings\",\"linkedInUsername\":\"anthropicresearch\",\"meta\":{\"_createdAt\":\"2023-11-20T21:56:31Z\",\"_id\":\"0f6290ad-6d21-407d-8deb-ce02815d1383\",\"_rev\":\"NyW74GU9ZzyWgAYa8qUSlF\",\"_type\":\"metadata\",\"_updatedAt\":\"2023-11-20T23:54:09Z\",\"robotsIndexable\":true,\"seoDescription\":\"Anthropic is an AI safety and research company that's working to build reliable, interpretable, and steerable AI systems.\",\"seoTitle\":\"Anthropic\",\"socialImage\":{\"_type\":\"image\",\"asset\":{\"_createdAt\":\"2025-05-23T14:14:18Z\",\"_id\":\"image-c07f638082c569e8ce1e89ae95ee6f332a98ec08-2400x1260-jpg\",\"_rev\":\"v1N2wBpLqoO2Q3HXueYiJi\",\"_type\":\"sanity.imageAsset\",\"_updatedAt\":\"2025-05-23T14:14:18Z\",\"assetId\":\"c07f638082c569e8ce1e89ae95ee6f332a98ec08\",\"extension\":\"jpg\",\"metadata\":{\"_type\":\"sanity.imageMetadata\",\"blurHash\":\"MASPU,%M?b%Ms:-;j[j[j[fQ~qj[9FayWB\",\"dimensions\":{\"_type\":\"sanity.imageDimensions\",\"aspectRatio\":1.9047619047619047,\"height\":1260,\"width\":2400},\"hasAlpha\":false,\"isOpaque\":true,\"lqip\":\"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAKABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAQFCP/EACAQAAEEAgEFAAAAAAAAAAAAAAABAgMEBRETEhQhIjH/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDS96axCjO2r8yqvn21oiR3ci6TT8d0t395ELUGVAAB/9k=\",\"palette\":{\"_type\":\"sanity.imagePalette\",\"darkMuted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#444440\",\"foreground\":\"#fff\",\"population\":0.05,\"title\":\"#fff\"},\"darkVibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#68681c\",\"foreground\":\"#fff\",\"population\":0,\"title\":\"#fff\"},\"dominant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#fcfcf4\",\"foreground\":\"#000\",\"population\":90.85,\"title\":\"#000\"},\"lightMuted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#bcbcb4\",\"foreground\":\"#000\",\"population\":0.03,\"title\":\"#fff\"},\"lightVibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#fcfcf4\",\"foreground\":\"#000\",\"population\":90.85,\"title\":\"#000\"},\"muted\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#7c7c74\",\"foreground\":\"#fff\",\"population\":0.02,\"title\":\"#fff\"},\"vibrant\":{\"_type\":\"sanity.imagePaletteSwatch\",\"background\":\"#c8c836\",\"foreground\":\"#000\",\"population\":0,\"title\":\"#fff\"}}},\"mimeType\":\"image/jpeg\",\"originalFilename\":\"Anthropic-OG-image.jpg\",\"path\":\"images/4zrzovbb/website/c07f638082c569e8ce1e89ae95ee6f332a98ec08-2400x1260.jpg\",\"sha1hash\":\"c07f638082c569e8ce1e89ae95ee6f332a98ec08\",\"size\":132598,\"uploadId\":\"pxmJEaCvYm0cHoZTfnCcZYXxrWKBhHf0\",\"url\":\"https://cdn.sanity.io/images/4zrzovbb/website/c07f638082c569e8ce1e89ae95ee6f332a98ec08-2400x1260.jpg\"},\"description\":\"Anthropic logo\"}},\"siteName\":\"Anthropic\",\"sitemapUrls\":[\"/\",\"/careers\",\"/company\",\"/events\",\"/events/aws-summit-dc\",\"/events/aws-summit-nyc\",\"/events/aws-summit-london\",\"/events/aws-summit-tokyo\",\"/events/claude-for-finance\",\"/events/google-cloud-next-2025\",\"/events/paris-builder-summit\",\"/events/seoul-builder-summit\",\"/learn\",\"/supported-countries\",\"/unsubscribe\"],\"twitterUsername\":\"AnthropicAI\",\"youtubeUsername\":\"anthropic-ai\",\"hideFooter\":true},\"page\":{\"_type\":\"page\",\"_id\":\"not-found\",\"_rev\":\"\",\"_createdAt\":\"\",\"_updatedAt\":\"\",\"title\":\"Not Found\",\"slug\":{\"_type\":\"slug\",\"current\":\"not-found\"},\"meta\":{},\"sections\":[]},\"children\":\"$L16\"}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"16:[\"$\",\"$L17\",null,{}]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"10:[[\"$\",\"title\",\"0\",{\"children\":\"Effective harnesses for long-running agents \\\\ Anthropic\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Anthropic is an AI safety and research company that's working to build reliable, interpretable, and steerable AI systems.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"msapplication-TileColor\",\"content\":\"141413\"}],[\"$\",\"meta\",\"3\",{\"name\":\"msapplication-config\",\"content\":\"/browserconfig.xml\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Effective harnesses for long-running agents\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Anthropic is an AI safety and research company that's working to build reliable, interpretable, and steerable AI systems.\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image\",\"content\":\"https://cdn.sanity.io/images/4zrzovbb/website/32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260.png\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image:alt\",\"content\":\"Anthropic logo\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:site\",\"content\":\"@AnthropicAI\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:creator\",\"content\":\"@AnthropicAI\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"Effective harnesses for long-running agents\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"Anthropic is an AI safety and research company that's working to build reliable, interpretable, and steerable AI systems.\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:image\",\"content\":\"https://cdn.sanity.io/images/4zrzovbb/website/32ea71b3e8e87a990f6df4c4def2b9e52815e977-2400x1260.png\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:image:alt\",\"content\":\"Anthropic logo\"}],[\"$\",\"link\",\"16\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",\"17\",{\"rel\":\"icon\",\"href\":\"/images/icons/favicon-32x32.png\"}],[\"$\",\"link\",\"18\",{\"rel\":\"apple-touch-icon\",\"href\":\"/images/icons/apple-touch-icon.png\"}],[\"$\",\"link\",\"19\",{\"rel\":\"apple-touch-icon\",\"href\":\"/images/icons/apple-touch-icon.png\",\"sizes\":\"180x180\"}],[\"$\",\"link\",\"20\",{\"rel\":\"mask-icon\",\"href\":\"/images/icons/safari-pinned-tab.svg\",\"color\":\"141413\"}],[\"$\",\"$L18\",\"21\",{}]]\n"])</script><script nonce="NmVlZTk1MTQtNGEwNC00NmMxLTg0NTItNjQ3NTNlMzg4YzY0">self.__next_f.push([1,"c:null\n"])</script></body></html>