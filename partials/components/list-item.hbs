{{!--
    Wonder Cabinet Episode Card
    Displays episode with green border, artwork, and solid green button
    Featured posts get a visual indicator badge
--}}

<article class="gh-list-item wc-episode-card{{#if isNewsletterFeature}} wc-episode-card--newsletter{{/if}} {{post_class}}">
    <a class="gh-list-item-inner wc-episode-card-inner" href="{{url}}">
        {{#if isNewsletterFeature}}
            <span class="wc-newsletter-badge"><span class="sr-only">Featured newsletter: </span>Latest Newsletter</span>
        {{else if featured}}
            <span class="wc-featured-badge"><span class="sr-only">Featured episode: </span>Featured</span>
        {{/if}}
        {{#if feature_image}}
            <figure class="gh-list-item-image wc-episode-card-image">
                <img
                    srcset="{{img_url feature_image size="s"}} 300w,
                            {{img_url feature_image size="m"}} 720w,
                            {{img_url feature_image size="l"}} 960w"
                    sizes="(max-width: 767px) 100vw, 229px"
                    src="{{img_url feature_image size="m"}}"
                    alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                >
            </figure>
        {{/if}}
        <div class="gh-list-item-content wc-episode-card-content">
            {{#if showPublishedAt}}
                <span class="gh-list-item-published-at wc-episode-card-date">{{date published_at format="DD MMM YYYY"}}</span>
            {{/if}}

            <h3 class="gh-list-item-title wc-episode-card-title">{{title}}</h3>

            {{#if showExcerpt}}
                <p class="gh-list-item-excerpt wc-episode-card-excerpt">{{excerpt}}</p>
            {{/if}}

            <span class="wc-episode-card-btn">
                {{#has tag="newsletter"}}
                    Read
                {{else}}
                    <img src="{{asset "images/play-white.svg"}}" alt="" class="wc-episode-card-btn-icon">
                    View Episode
                {{/has}}
            </span>
        </div>
    </a>
</article>
